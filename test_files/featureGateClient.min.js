(function (define) { define([],(function(){return function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);var i=r(1);r.d(t,"default",(function(){return i.default})),r.d(t,"FeatureGateEnvironment",(function(){return i.FeatureGateEnvironment})),r.d(t,"PerimeterType",(function(){return i.PerimeterType})),r.d(t,"CLIENT_VERSION",(function(){return i.CLIENT_VERSION}));var n=r(64);r.d(t,"DynamicConfig",(function(){return n.DynamicConfig}));var s=r(80);r.d(t,"Layer",(function(){return s.Layer}));var o=r(78);r.d(t,"EvaluationReason",(function(){return o.EvaluationReason}))},function(e,t,r){"use strict";r.r(t);var i=r(2),n=r.n(i),s=r(6),o=r(83),a=r(78);r.d(t,"EvaluationReason",(function(){return a.EvaluationReason}));var l=r(64);r.d(t,"DynamicConfig",(function(){return l.DynamicConfig}));var u,c=r(79);r.d(t,"FeatureGateEnvironment",(function(){return c.FeatureGateEnvironment})),r.d(t,"PerimeterType",(function(){return c.PerimeterType})),r.d(t,"CLIENT_VERSION",(function(){return o.CLIENT_VERSION}));class d{static isGateExists(e){return this.client.isGateExist(e)}static isExperimentExists(e){return this.client.isExperimentExist(e)}}u=d,n()(d,"client",new s.Client),n()(d,"hasCheckGateErrorOccurred",!1),n()(d,"hasGetExperimentValueErrorOccurred",!1),n()(d,"checkGate",(e,t)=>{try{if("undefined"!=typeof window&&window.__CRITERION__&&"function"==typeof window.__CRITERION__.getFeatureFlagOverride){const t=window.__CRITERION__.getFeatureFlagOverride(e);if(void 0!==t)return t}}catch(t){u.hasCheckGateErrorOccurred||(console.warn({msg:"An error has occurred checking the feature gate from criterion override. Only the first occurrence of this error is logged.",gateName:e,error:t}),u.hasCheckGateErrorOccurred=!0)}return u.client.checkGate(e,t)}),n()(d,"getExperimentValue",(e,t,r,i)=>{try{if("undefined"!=typeof window&&window.__CRITERION__&&"function"==typeof window.__CRITERION__.getExperimentValueOverride){const r=window.__CRITERION__.getExperimentValueOverride(e,t);if(null!=r)return r}}catch(t){return u.hasGetExperimentValueErrorOccurred||(console.warn({msg:"An error has occurred getting the experiment value from criterion override. Only the first occurrence of this error is logged.",experimentName:e,defaultValue:r,options:i,error:t}),u.hasGetExperimentValueErrorOccurred=!0),r}return u.client.getExperimentValue(e,t,r,i)}),n()(d,"initializeCalled",u.client.initializeCalled.bind(u.client)),n()(d,"initializeCompleted",u.client.initializeCompleted.bind(u.client)),n()(d,"initialize",u.client.initialize.bind(u.client)),n()(d,"initializeWithProvider",u.client.initializeWithProvider.bind(u.client)),n()(d,"initializeFromValues",u.client.initializeFromValues.bind(u.client)),n()(d,"manuallyLogGateExposure",u.client.manuallyLogGateExposure.bind(u.client)),n()(d,"getExperiment",u.client.getExperiment.bind(u.client)),n()(d,"manuallyLogExperimentExposure",u.client.manuallyLogExperimentExposure.bind(u.client)),n()(d,"manuallyLogLayerExposure",u.client.manuallyLogLayerExposure.bind(u.client)),n()(d,"shutdownStatsig",u.client.shutdownStatsig.bind(u.client)),n()(d,"overrideGate",u.client.overrideGate.bind(u.client)),n()(d,"clearGateOverride",u.client.clearGateOverride.bind(u.client)),n()(d,"overrideConfig",u.client.overrideConfig.bind(u.client)),n()(d,"clearConfigOverride",u.client.clearConfigOverride.bind(u.client)),n()(d,"setOverrides",u.client.setOverrides.bind(u.client)),n()(d,"getOverrides",u.client.getOverrides.bind(u.client)),n()(d,"clearAllOverrides",u.client.clearAllOverrides.bind(u.client)),n()(d,"isCurrentUser",u.client.isCurrentUser.bind(u.client)),n()(d,"onGateUpdated",u.client.onGateUpdated.bind(u.client)),n()(d,"onExperimentValueUpdated",u.client.onExperimentValueUpdated.bind(u.client)),n()(d,"onAnyUpdated",u.client.onAnyUpdated.bind(u.client)),n()(d,"updateUser",u.client.updateUser.bind(u.client)),n()(d,"updateUserWithProvider",u.client.updateUserWithProvider.bind(u.client)),n()(d,"updateUserWithValues",u.client.updateUserWithValues.bind(u.client)),n()(d,"getPackageVersion",u.client.getPackageVersion.bind(u.client)),n()(d,"getLayer",u.client.getLayer.bind(u.client)),n()(d,"getLayerValue",u.client.getLayerValue.bind(u.client));let h=d;if("undefined"!=typeof window)if(void 0===window.__FEATUREGATES_JS__)window.__FEATUREGATES_JS__=d;else{var f,g;h=window.__FEATUREGATES_JS__;const e=(null===(f=h)||void 0===f||null===(g=f.getPackageVersion)||void 0===g?void 0:g.call(f))||"4.10.0 or earlier";if(e!==o.CLIENT_VERSION){const t=`Multiple versions of FeatureGateClients found on the current page.\n      The currently bound version is ${e} when module version ${o.CLIENT_VERSION} was loading.`;console.warn(t)}}t.default=h},function(e,t,r){var i=r(3);e.exports=function(e,t,r){return(t=i(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var i=r(4).default,n=r(5);e.exports=function(e){var t=n(e,"string");return"symbol"==i(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function r(t){return e.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,r(t)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var i=r(4).default;e.exports=function(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";r.r(t),r.d(t,"Client",(function(){return O}));var i=r(7),n=r.n(i),s=r(2),o=r.n(s),a=r(9),l=r(61),u=r(64),c=r(80),d=r(78),h=r(81),f=r(85),g=r(86),_=r(79),p=r(65),v=r(83);const m=["sdkKey","environment","updateUserCompletionCallback","perimeter"];function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}class O{constructor({localStorageKey:e=g.LOCAL_STORAGE_KEY}={}){o()(this,"initPromise",null),o()(this,"initCompleted",!1),o()(this,"initWithDefaults",!1),o()(this,"hasCheckGateErrorOccurred",!1),o()(this,"hasGetExperimentErrorOccurred",!1),o()(this,"hasGetExperimentValueErrorOccurred",!1),o()(this,"hasGetLayerErrorOccurred",!1),o()(this,"hasGetLayerValueErrorOccurred",!1),o()(this,"subscriptions",new l.default),o()(this,"dataAdapter",new f.NoFetchDataAdapter),o()(this,"statsigValuesUpdated",()=>{this.user&&this.statsigClient.updateUserSync(this.user,{disableBackgroundCacheRefresh:!0}),this.subscriptions.anyUpdated()}),this.overrideAdapter=new g.PersistentOverrideAdapter(e)}async initialize(e,t,r){const i=Object(p.getOptionsWithDefaults)(e);if(this.initPromise)return Object(p.shallowEquals)(i,this.initOptions)||console.warn("Feature Gates client already initialized with different options. New options were not applied."),this.initPromise;const n=performance.now();return this.initOptions=i,this.initPromise=this.init(i,t,r).then(()=>{this.initCompleted=!0,this.initWithDefaults=!0}).finally(()=>{const e=performance.now()-n;this.fireClientEvent(n,e,"initialize",this.initCompleted,i.apiKey)}),this.initPromise}async initializeWithProvider(e,t,r,i){const n=Object(p.getOptionsWithDefaults)(e);if(this.initPromise)return Object(p.shallowEquals)(n,this.initOptions)||console.warn("Feature Gates client already initialized with different options. New options were not applied."),this.initPromise;const s=performance.now();return this.initOptions=n,this.provider=t,this.provider.setClientVersion(v.CLIENT_VERSION),this.provider.setApplyUpdateCallback&&this.provider.setApplyUpdateCallback(this.applyUpdateCallback.bind(this)),this.initPromise=this.initWithProvider(n,t,r,i).then(()=>{this.initCompleted=!0,this.initWithDefaults=!0}).finally(()=>{const e=performance.now()-s;this.fireClientEvent(s,e,"initializeWithProvider",this.initCompleted,t.getApiKey?t.getApiKey():void 0)}),this.initPromise}applyUpdateCallback(e){try{(this.initCompleted||this.initWithDefaults)&&(this.assertInitialized(this.statsigClient),this.dataAdapter.setBootstrapData(e.experimentValues),this.dataAdapter.setData(JSON.stringify(e.experimentValues)),this.statsigValuesUpdated())}catch(e){console.warn("Error when attempting to apply update",e)}}fireClientEvent(e,t,r,i,n){var s;null===(s=this.initOptions.analyticsWebClient)||void 0===s||s.then(s=>{const o=b({targetApp:this.initOptions.targetApp,clientVersion:v.CLIENT_VERSION,success:i,startTime:e,totalTime:t},n&&{apiKey:n});s.sendOperationalEvent({action:r,actionSubject:"featureGatesClient",attributes:o,tags:["measurement"],source:"@atlaskit/feature-gate-js-client"})}).catch(e=>{this.initOptions.environment!==_.FeatureGateEnvironment.Production&&console.error("Analytics web client promise did not resolve",e)})}async initializeFromValues(e,t,r,i={}){const n=Object(p.getOptionsWithDefaults)(e);if(this.initPromise)return Object(p.shallowEquals)(n,this.initOptions)||console.warn("Feature Gates client already initialized with different options. New options were not applied."),this.initPromise;Object.prototype.hasOwnProperty.call(i,"has_updates")||(i.has_updates=!0);const s=performance.now();return this.initOptions=n,this.initPromise=this.initFromValues(n,t,r,i).then(()=>{this.initCompleted=!0,this.initWithDefaults=!0}).finally(()=>{const e=performance.now()-s;this.fireClientEvent(s,e,"initializeFromValues",this.initCompleted)}),this.initPromise}assertInitialized(e){if(!e)throw new Error("Client must be initialized before using this method")}async updateUser(e,t,r){this.assertInitialized(this.statsigClient);const i=Object(p.getOptionsWithDefaults)(e);await this.updateUserUsingInitializeValuesProducer(()=>h.default.fetchExperimentValues(i,t,r).then(({experimentValues:e,customAttributes:t})=>({experimentValues:e,customAttributesFromFetch:t})),t,r)}async updateUserWithProvider(e,t){if(this.assertInitialized(this.statsigClient),!this.provider)throw new Error("Cannot update user using provider as the client was not initialised with a provider");await this.provider.setProfile(this.initOptions,e,t),await this.updateUserUsingInitializeValuesProducer(()=>this.provider.getExperimentValues(),e,t)}async updateUserWithValues(e,t,r={}){this.assertInitialized(this.statsigClient);await this.updateUserUsingInitializeValuesProducer(()=>Promise.resolve({experimentValues:r,customAttributesFromFetch:t}),e,t)}initializeCalled(){return null!=this.initPromise}initializeCompleted(){return this.initCompleted}checkGate(e,t={}){try{this.assertInitialized(this.statsigClient);const{fireGateExposure:r=!0}=t;return this.statsigClient.checkGate(e,{disableExposureLog:!r})}catch(t){return this.hasCheckGateErrorOccurred||(console.warn({msg:"An error has occurred checking the feature gate. Only the first occurrence of this error is logged.",gateName:e,error:t}),this.hasCheckGateErrorOccurred=!0),!1}}isGateExist(e){try{this.assertInitialized(this.statsigClient);return!this.statsigClient.getFeatureGate(e,{disableExposureLog:!0}).details.reason.includes("Unrecognized")}catch(e){return console.error("Error occurred when trying to check FeatureGate: "+e),!0}}isExperimentExist(e){try{this.assertInitialized(this.statsigClient);return!this.statsigClient.getExperiment(e,{disableExposureLog:!0}).details.reason.includes("Unrecognized")}catch(e){return console.error("Error occurred when trying to check Experiment: "+e),!0}}manuallyLogGateExposure(e){this.assertInitialized(this.statsigClient),this.statsigClient.checkGate(e)}getExperiment(e,t={}){try{this.assertInitialized(this.statsigClient);const{fireExperimentExposure:r=!0}=t;return u.DynamicConfig.fromExperiment(this.statsigClient.getExperiment(e,{disableExposureLog:!r}))}catch(t){return this.hasGetExperimentErrorOccurred||(console.warn({msg:"An error has occurred getting the experiment. Only the first occurrence of this error is logged.",experimentName:e,error:t}),this.hasGetExperimentErrorOccurred=!0),new u.DynamicConfig(e,{},"",{time:Date.now(),reason:d.EvaluationReason.Error})}}getExperimentValue(e,t,r,i={}){const n=this.getExperiment(e,i);try{const{typeGuard:e}=i;return n.get(t,r,e)}catch(t){return this.hasGetExperimentValueErrorOccurred||(console.warn({msg:"An error has occurred getting the experiment value. Only the first occurrence of this error is logged.",experimentName:e,defaultValue:r,options:i,error:t}),this.hasGetExperimentValueErrorOccurred=!0),r}}manuallyLogExperimentExposure(e){this.assertInitialized(this.statsigClient),this.statsigClient.getExperiment(e)}manuallyLogLayerExposure(e,t){var r;this.assertInitialized(this.statsigClient),null===(r=this.statsigClient.getLayer(e))||void 0===r||r.get(t)}shutdownStatsig(){this.assertInitialized(this.statsigClient),this.statsigClient.shutdown()}overrideGate(e,t){var r;(this.overrideAdapter.overrideGate(e,t),this.user)&&(null===(r=this.statsigClient)||void 0===r||r.updateUserSync(this.user,{disableBackgroundCacheRefresh:!0}));this.statsigValuesUpdated()}clearGateOverride(e){this.overrideAdapter.removeGateOverride(e),this.statsigValuesUpdated()}overrideConfig(e,t){this.overrideAdapter.overrideDynamicConfig(e,t),this.statsigValuesUpdated()}clearConfigOverride(e){this.overrideAdapter.removeDynamicConfigOverride(e),this.statsigValuesUpdated()}setOverrides(e){this.overrideAdapter.setOverrides(e),this.statsigValuesUpdated()}getOverrides(){return this.overrideAdapter.getOverrides()}clearAllOverrides(){this.overrideAdapter.removeAllOverrides(),this.statsigValuesUpdated()}isCurrentUser(e,t){return Object(p.shallowEquals)(this.currentIdentifiers,e)&&Object(p.shallowEquals)(this.currentAttributes,t)}onGateUpdated(e,t,r={}){return this.subscriptions.onGateUpdated(e,i=>{const{fireGateExposure:n=!0}=r;n&&this.manuallyLogGateExposure(e);try{t(i)}catch(t){console.warn(`Error calling callback for gate ${e} with value ${i}`,t)}},this.checkGate.bind(this),r)}onExperimentValueUpdated(e,t,r,i,n={}){return this.subscriptions.onExperimentValueUpdated(e,t,r,t=>{const{fireExperimentExposure:r=!0}=n;r&&this.manuallyLogExperimentExposure(e);try{i(t)}catch(r){console.warn(`Error calling callback for experiment ${e} with value ${t}`,r)}},this.getExperimentValue.bind(this),n)}onAnyUpdated(e){return this.subscriptions.onAnyUpdated(e)}async init(e,t,r){const i=b({},e);let n,s;try{const o=h.default.fetchClientSdk(e).then(e=>i.sdkKey=e.clientSdkKey),a=h.default.fetchExperimentValues(e,t,r),[,l]=await Promise.all([o,a]);n=l.experimentValues,s=l.customAttributes}catch(e){throw e instanceof Error&&console.error("Error occurred when trying to fetch the Feature Gates client values, error: "+(null==e?void 0:e.message)),console.warn("Initialising Statsig client without values"),await this.initFromValues(i,t,r),e}return this.initFromValues(i,t,s,n)}async initWithProvider(e,t,r,i){const n=b(b({},e),{},{disableCurrentPageLogging:!0});let s,o;try{await t.setProfile(e,r,i);const a=t.getClientSdkKey().then(e=>n.sdkKey=e),l=t.getExperimentValues(),[,u]=await Promise.all([a,l]);s=u.experimentValues,o=u.customAttributesFromFetch}catch(e){throw e instanceof Error&&console.error("Error occurred when trying to fetch the Feature Gates client values, error: "+(null==e?void 0:e.message)),console.warn("Initialising Statsig client without values"),await this.initFromValues(n,r,i),e}return this.initFromValues(n,r,o,s)}async initFromValues(e,t,r,i={}){var s;this.overrideAdapter.initFromStoredOverrides(),this.currentIdentifiers=t,this.currentAttributes=r;const o=Object(p.migrateInitializationOptions)(e);o.sdkKey||(o.sdkKey="client-default-key"),null!==(s=o.networkConfig)&&void 0!==s&&s.logEventUrl||(o.networkConfig=b(b({},o.networkConfig),{},{logEventUrl:"https://xp.atlassian.com/v1/rgstr"})),o.perimeter===_.PerimeterType.FEDRAMP_MODERATE&&(o.disableLogging=!0);const{sdkKey:l,environment:u,updateUserCompletionCallback:c,perimeter:d}=o,h=n()(o,m);this.sdkKey=l,this.user=Object(p.toStatsigUser)(t,r,this.sdkKey);const f=b(b({},h),{},{environment:{tier:u},includeCurrentPageUrlWithEvents:!1,dataAdapter:this.dataAdapter,overrideAdapter:this.overrideAdapter});try{this.statsigClient=new a.StatsigClient(l,this.user,f),this.dataAdapter.setBootstrapData(i),await this.statsigClient.initializeAsync()}catch(e){throw e instanceof Error&&console.error("Error occurred when trying to initialise the Statsig client, error: "+(null==e?void 0:e.message)),console.warn("Initialising Statsig client with default sdk key and without values"),this.statsigClient=new a.StatsigClient("client-default-key",this.user,f),this.dataAdapter.setBootstrapData(),await this.statsigClient.initializeAsync(),this.initWithDefaults=!0,e}}async updateUserUsingInitializeValuesProducer(e,t,r){if(this.assertInitialized(this.statsigClient),!this.initPromise)throw new Error("The client must be initialized before you can update the user.");if(this.isCurrentUser(t,r))return this.initPromise;const i=this.initPromise;try{await this.initPromise}catch(e){}const n=e(),s=this.updateStatsigClientUser(n,t,r);return this.initPromise=s.catch(async()=>{this.initPromise=i,this.provider&&await this.provider.setProfile(this.initOptions,this.currentIdentifiers,this.currentAttributes)}),s}async updateStatsigClientUser(e,t,r){var i,n;let s,o;this.assertInitialized(this.statsigClient);try{s=await e,o=Object(p.toStatsigUser)(t,s.customAttributesFromFetch,this.sdkKey)}catch(e){var a,l;const t=e instanceof Error?e.message:JSON.stringify(e);throw null===(a=(l=this.initOptions).updateUserCompletionCallback)||void 0===a||a.call(l,!1,t),e}let u=!0,c=null;try{this.dataAdapter.setBootstrapData(s.experimentValues),this.user=o,await this.statsigClient.updateUserAsync(this.user)}catch(e){u=!1,c=String(e)}if(null===(i=this.initOptions)||void 0===i||null===(n=i.updateUserCompletionCallback)||void 0===n||n.call(i,u,c),!u)throw new Error("Failed to update user. An unexpected error occured.");this.currentIdentifiers=t,this.currentAttributes=r,this.subscriptions.anyUpdated()}getPackageVersion(){return v.CLIENT_VERSION}getLayer(e,t={}){try{this.assertInitialized(this.statsigClient);const{fireLayerExposure:r=!0}=t;return c.Layer.fromLayer(this.statsigClient.getLayer(e,{disableExposureLog:!r}))}catch(t){return this.hasGetLayerErrorOccurred||(console.warn({msg:"An error has occurred getting the layer. Only the first occurrence of this error is logged.",layerName:e,error:t}),this.hasGetLayerErrorOccurred=!0),c.Layer.fromLayer(Object(a._makeLayer)(e,{reason:"Error"},null))}}getLayerValue(e,t,r,i={}){const n=this.getLayer(e,i);try{const{typeGuard:e}=i;return n.get(t,r,e)}catch(t){return this.hasGetLayerValueErrorOccurred||(console.warn({msg:"An error has occurred getting the layer value. Only the first occurrence of this error is logged.",layerName:e,defaultValue:r,options:i,error:t}),this.hasGetLayerValueErrorOccurred=!0),r}}}},function(e,t,r){var i=r(8);e.exports=function(e,t){if(null==e)return{};var r,n,s=i(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){if(null==e)return{};var r={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;r[i]=e[i]}return r},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigClient=void 0;const s=r(10);t.StatsigClient=s.default,n(r(11),t),__STATSIG__=Object.assign(Object.assign({},null!==__STATSIG__&&void 0!==__STATSIG__?__STATSIG__:{}),{StatsigClient:s.default}),t.default=__STATSIG__},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(11),s=r(56),o=r(57),a=r(59),l=r(60);class u extends n.StatsigClientBase{static instance(e){const t=(0,n._getStatsigGlobal)().instance(e);return t instanceof u?t:(n.Log.warn((0,n._isServerEnv)()?"StatsigClient.instance is not supported in server environments":"Unable to find StatsigClient instance"),new u(null!=e?e:"",{}))}constructor(e,t,r=null){var i,a;n.SDKType._setClientType(e,"javascript-client");const u=new o.default(r,e=>{this.$emt(e)});super(e,null!==(i=null==r?void 0:r.dataAdapter)&&void 0!==i?i:new l.StatsigEvaluationsDataAdapter,u,r),this.getFeatureGate=this._memoize(n.MemoPrefix._gate,this._getFeatureGateImpl.bind(this)),this.getDynamicConfig=this._memoize(n.MemoPrefix._dynamicConfig,this._getDynamicConfigImpl.bind(this)),this.getExperiment=this._memoize(n.MemoPrefix._experiment,this._getExperimentImpl.bind(this)),this.getLayer=this._memoize(n.MemoPrefix._layer,this._getLayerImpl.bind(this)),this.getParameterStore=this._memoize(n.MemoPrefix._paramStore,this._getParameterStoreImpl.bind(this)),this._store=new s.default(e),this._network=u,this._user=this._configureUser(t,r);const c=null!==(a=null==r?void 0:r.plugins)&&void 0!==a?a:[];for(const e of c)e.bind(this)}initializeSync(e){var t;return"Uninitialized"!==this.loadingStatus?(0,n.createUpdateDetails)(!0,this._store.getSource(),-1,null,null,["MultipleInitializations",...null!==(t=this._store.getWarnings())&&void 0!==t?t:[]]):(this._logger.start(),this.updateUserSync(this._user,e))}initializeAsync(e){return i(this,void 0,void 0,(function*(){return this._initializePromise||(this._initializePromise=this._initializeAsyncImpl(e)),this._initializePromise}))}updateUserSync(e,t){var r;const i=performance.now(),s=[...null!==(r=this._store.getWarnings())&&void 0!==r?r:[]];this._resetForUser(e);const o=this.dataAdapter.getDataSync(this._user);null==o&&s.push("NoCachedValues"),this._store.setValues(o,this._user),this._finalizeUpdate(o);const a=null==t?void 0:t.disableBackgroundCacheRefresh;return!0===a||null==a&&"Bootstrap"===(null==o?void 0:o.source)||this._runPostUpdate(null!=o?o:null,this._user),(0,n.createUpdateDetails)(!0,this._store.getSource(),performance.now()-i,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),s)}updateUserAsync(e,t){return i(this,void 0,void 0,(function*(){this._resetForUser(e);const r=this._user;n.Diagnostics._markInitOverallStart(this._sdkKey);let i=this.dataAdapter.getDataSync(r);if(this._store.setValues(i,this._user),this._setStatus("Loading",i),i=yield this.dataAdapter.getDataAsync(i,r,t),r!==this._user)return(0,n.createUpdateDetails)(!1,this._store.getSource(),-1,new Error("User changed during update"),this._network.getLastUsedInitUrlAndReset());let s=!1;null!=i&&(n.Diagnostics._markInitProcessStart(this._sdkKey),s=this._store.setValues(i,this._user),n.Diagnostics._markInitProcessEnd(this._sdkKey,{success:s})),this._finalizeUpdate(i),s||(this._errorBoundary.attachErrorIfNoneExists(n.UPDATE_DETAIL_ERROR_MESSAGES.NO_NETWORK_DATA),this.$emt({name:"initialization_failure"})),n.Diagnostics._markInitOverallEnd(this._sdkKey,s,this._store.getCurrentSourceDetails());const o=n.Diagnostics._enqueueDiagnosticsEvent(this._user,this._logger,this._sdkKey,this._options);return(0,n.createUpdateDetails)(s,this._store.getSource(),o,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),this._store.getWarnings())}))}getContext(){return{sdkKey:this._sdkKey,options:this._options,values:this._store.getValues(),user:JSON.parse(JSON.stringify(this._user)),errorBoundary:this._errorBoundary,session:n.StatsigSession.get(this._sdkKey),stableID:n.StableID.get(this._sdkKey)}}checkGate(e,t){return this.getFeatureGate(e,t).value}logEvent(e,t,r){const i="string"==typeof e?{eventName:e,value:t,metadata:r}:e;this._logger.enqueue(Object.assign(Object.assign({},i),{user:this._user,time:Date.now()}))}_primeReadyRipcord(){this.$on("error",()=>{"Loading"===this.loadingStatus&&this._finalizeUpdate(null)})}_initializeAsyncImpl(e){return i(this,void 0,void 0,(function*(){return n.Storage.isReady()||(yield n.Storage.isReadyResolver()),this._logger.start(),this.updateUserAsync(this._user,e)}))}_finalizeUpdate(e){this._store.finalize(),this._setStatus("Ready",e)}_runPostUpdate(e,t){this.dataAdapter.getDataAsync(e,t,{priority:"low"}).catch(e=>{n.Log.error("An error occurred after update.",e)})}_resetForUser(e){this._logger.reset(),this._store.reset(),this._user=this._configureUser(e,this._options)}_configureUser(e,t){var r;const i=(0,n._normalizeUser)(e,t),s=null===(r=i.customIDs)||void 0===r?void 0:r.stableID;return s&&n.StableID.setOverride(s,this._sdkKey),i}_getFeatureGateImpl(e,t){var r,i;const{result:s,details:o}=this._store.getGate(e),a=(0,n._makeFeatureGate)(e,o,s),l=null===(i=null===(r=this.overrideAdapter)||void 0===r?void 0:r.getGateOverride)||void 0===i?void 0:i.call(r,a,this._user,t),u=null!=l?l:a;return this._enqueueExposure(e,(0,n._createGateExposure)(this._user,u),t),this.$emt({name:"gate_evaluation",gate:u}),u}_getDynamicConfigImpl(e,t){var r,i;const{result:s,details:o}=this._store.getConfig(e),a=(0,n._makeDynamicConfig)(e,o,s),l=null===(i=null===(r=this.overrideAdapter)||void 0===r?void 0:r.getDynamicConfigOverride)||void 0===i?void 0:i.call(r,a,this._user,t),u=null!=l?l:a;return this._enqueueExposure(e,(0,n._createConfigExposure)(this._user,u),t),this.$emt({name:"dynamic_config_evaluation",dynamicConfig:u}),u}_getExperimentImpl(e,t){var r,i;const{result:s,details:o}=this._store.getConfig(e),a=(0,n._makeExperiment)(e,o,s),l=null===(i=null===(r=this.overrideAdapter)||void 0===r?void 0:r.getExperimentOverride)||void 0===i?void 0:i.call(r,a,this._user,t),u=null!=l?l:a;return this._enqueueExposure(e,(0,n._createConfigExposure)(this._user,u),t),this.$emt({name:"experiment_evaluation",experiment:u}),u}_getLayerImpl(e,t){var r,i,s;const{result:o,details:a}=this._store.getLayer(e),l=(0,n._makeLayer)(e,a,o),u=null===(i=null===(r=this.overrideAdapter)||void 0===r?void 0:r.getLayerOverride)||void 0===i?void 0:i.call(r,l,this._user,t);(null==t?void 0:t.disableExposureLog)&&this._logger.incrementNonExposureCount(e);const c=(0,n._mergeOverride)(l,u,null!==(s=null==u?void 0:u.__value)&&void 0!==s?s:l.__value,r=>{(null==t?void 0:t.disableExposureLog)||this._enqueueExposure(e,(0,n._createLayerParameterExposure)(this._user,c,r),t)});return this.$emt({name:"layer_evaluation",layer:c}),c}_getParameterStoreImpl(e,t){const{result:r,details:i}=this._store.getParamStore(e);return this._logger.incrementNonExposureCount(e),{name:e,details:i,__configuration:r,get:(0,a._makeParamStoreGetter)(this,r,t)}}}t.default=u},function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.Storage=t.Log=t.EventLogger=t.Diagnostics=void 0,r(12);const s=r(15);Object.defineProperty(t,"Diagnostics",{enumerable:!0,get:function(){return s.Diagnostics}});const o=r(16);Object.defineProperty(t,"EventLogger",{enumerable:!0,get:function(){return o.EventLogger}});const a=r(14);Object.defineProperty(t,"Log",{enumerable:!0,get:function(){return a.Log}});const l=r(27),u=r(24);Object.defineProperty(t,"Storage",{enumerable:!0,get:function(){return u.Storage}}),n(r(12),t),n(r(17),t),n(r(28),t),n(r(29),t),n(r(15),t),n(r(34),t),n(r(35),t),n(r(37),t),n(r(38),t),n(r(18),t),n(r(39),t),n(r(14),t),n(r(40),t),n(r(20),t),n(r(41),t),n(r(46),t),n(r(47),t),n(r(21),t),n(r(36),t),n(r(44),t),n(r(30),t),n(r(48),t),n(r(45),t),n(r(49),t),n(r(23),t),n(r(27),t),n(r(50),t),n(r(51),t),n(r(52),t),n(r(53),t),n(r(32),t),n(r(24),t),n(r(33),t),n(r(19),t),n(r(25),t),n(r(31),t),n(r(26),t),n(r(54),t),n(r(55),t),__STATSIG__=Object.assign(Object.assign({},null!==__STATSIG__&&void 0!==__STATSIG__?__STATSIG__:{}),{Log:a.Log,SDK_VERSION:l.SDK_VERSION})},function(e,t,r){"use strict";(function(e){var i,n,s;Object.defineProperty(t,"__esModule",{value:!0}),t._getInstance=t._getStatsigGlobalFlag=t._getStatsigGlobal=void 0;const o=r(14);t._getStatsigGlobal=()=>__STATSIG__||c;t._getStatsigGlobalFlag=e=>(0,t._getStatsigGlobal)()[e];t._getInstance=e=>{const r=(0,t._getStatsigGlobal)();return e?r.instances&&r.instances[e]:(r.instances&&Object.keys(r.instances).length>1&&o.Log.warn("Call made to Statsig global instance without an SDK key but there is more than one client instance. If you are using mulitple clients, please specify the SDK key."),r.firstInstance)};const a="undefined"!=typeof window?window:{},l=void 0!==e?e:{},u="undefined"!=typeof globalThis?globalThis:{},c=null!==(s=null!==(n=null!==(i=a.__STATSIG__)&&void 0!==i?i:l.__STATSIG__)&&void 0!==n?n:u.__STATSIG__)&&void 0!==s?s:{instance:t._getInstance};a.__STATSIG__=c,l.__STATSIG__=c,u.__STATSIG__=c}).call(this,r(13))},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Log=t.LogLevel=void 0;function i(e){return e.unshift("[Statsig]"),e}t.LogLevel={None:0,Error:1,Warn:2,Info:3,Debug:4};class n{static info(...e){n.level>=t.LogLevel.Info&&console.info("  INFO ",...i(e))}static debug(...e){n.level>=t.LogLevel.Debug&&console.debug(" DEBUG ",...i(e))}static warn(...e){n.level>=t.LogLevel.Warn&&console.warn("  WARN ",...i(e))}static error(...e){n.level>=t.LogLevel.Error&&console.error(" ERROR ",...i(e))}}t.Log=n,n.level=t.LogLevel.Warn},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Diagnostics=void 0;const i=new Map;function n(e,t,r,i){return Object.assign({key:r,action:t,step:i,timestamp:Date.now()},e)}function s(e,t){var r;const n=null!==(r=i.get(e))&&void 0!==r?r:[];n.push(t),i.set(e,n)}function o(e,t){if(t in e)return e[t]}t.Diagnostics={_getMarkers:e=>i.get(e),_markInitOverallStart:e=>{s(e,n({},"start","overall"))},_markInitOverallEnd:(e,t,r)=>{s(e,n({success:t,error:t?void 0:{name:"InitializeError",message:"Failed to initialize"},evaluationDetails:r},"end","overall"))},_markInitNetworkReqStart:(e,t)=>{s(e,n(t,"start","initialize","network_request"))},_markInitNetworkReqEnd:(e,t)=>{s(e,n(t,"end","initialize","network_request"))},_markInitProcessStart:e=>{s(e,n({},"start","initialize","process"))},_markInitProcessEnd:(e,t)=>{s(e,n(t,"end","initialize","process"))},_clearMarkers:e=>{i.delete(e)},_formatError(e){if(e&&"object"==typeof e)return{code:o(e,"code"),name:o(e,"name"),message:o(e,"message")}},_getDiagnosticsData(e,r,i,n){var s;return{success:!0===(null==e?void 0:e.ok),statusCode:null==e?void 0:e.status,sdkRegion:null===(s=null==e?void 0:e.headers)||void 0===s?void 0:s.get("x-statsig-region"),isDelta:!0===i.includes('"is_delta":true')||void 0,attempt:r,error:t.Diagnostics._formatError(n)}},_enqueueDiagnosticsEvent(e,r,i,n){const s=t.Diagnostics._getMarkers(i);if(null==s||s.length<=0)return-1;const o=s[s.length-1].timestamp-s[0].timestamp;t.Diagnostics._clearMarkers(i);const a=function(e,t){return{eventName:"statsig::diagnostics",user:e,value:null,metadata:t,time:Date.now()}}(e,{context:"initialize",markers:s.slice(),statsigOptions:n});return r.enqueue(a),o}}},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.EventLogger=void 0;const n=r(17),s=r(18),o=r(14),a=r(20),l=r(21),u=r(23),c=r(24),d=r(25),h=r(26),f={},g="startup",_="gained_focus";class p{static _safeFlushAndForget(e){var t;null===(t=f[e])||void 0===t||t.flush().catch(()=>{})}static _safeRetryFailedLogs(e){var t;null===(t=f[e])||void 0===t||t._retryFailedLogs(_)}constructor(e,t,r,i){var n;this._sdkKey=e,this._emitter=t,this._network=r,this._options=i,this._queue=[],this._lastExposureTimeMap={},this._nonExposedChecks={},this._hasRunQuickFlush=!1,this._creationTime=Date.now(),this._isLoggingDisabled=!0===(null==i?void 0:i.disableLogging),this._maxQueueSize=null!==(n=null==i?void 0:i.loggingBufferMaxSize)&&void 0!==n?n:100;const s=null==i?void 0:i.networkConfig;this._logEventUrlConfig=new d.UrlConfiguration(a.Endpoint._rgstr,null==s?void 0:s.logEventUrl,null==s?void 0:s.api,null==s?void 0:s.logEventFallbackUrls)}setLoggingDisabled(e){this._isLoggingDisabled=e}enqueue(e){this._shouldLogEvent(e)&&(this._normalizeAndAppendEvent(e),this._quickFlushIfNeeded(),this._queue.length>this._maxQueueSize&&p._safeFlushAndForget(this._sdkKey))}incrementNonExposureCount(e){var t;const r=null!==(t=this._nonExposedChecks[e])&&void 0!==t?t:0;this._nonExposedChecks[e]=r+1}reset(){this._lastExposureTimeMap={}}start(){(0,l._isServerEnv)()||(f[this._sdkKey]=this,(0,h._subscribeToVisiblityChanged)(e=>{"background"===e?p._safeFlushAndForget(this._sdkKey):"foreground"===e&&p._safeRetryFailedLogs(this._sdkKey)}),this._retryFailedLogs(g),this._startBackgroundFlushInterval())}stop(){return i(this,void 0,void 0,(function*(){this._flushIntervalId&&(clearInterval(this._flushIntervalId),this._flushIntervalId=null),delete f[this._sdkKey],yield this.flush()}))}flush(){return i(this,void 0,void 0,(function*(){if(this._appendAndResetNonExposedChecks(),0===this._queue.length)return;const e=this._queue;this._queue=[],yield this._sendEvents(e)}))}_quickFlushIfNeeded(){this._hasRunQuickFlush||(this._hasRunQuickFlush=!0,Date.now()-this._creationTime>200||setTimeout(()=>p._safeFlushAndForget(this._sdkKey),200))}_shouldLogEvent(e){if((0,l._isServerEnv)())return!1;if(!(0,u._isExposureEvent)(e))return!0;const t=e.user?e.user:{statsigEnvironment:void 0},r=(0,n._getUserStorageKey)(this._sdkKey,t),i=e.metadata?e.metadata:{},s=[e.eventName,r,i.gate,i.config,i.ruleID,i.allocatedExperiment,i.parameterName,String(i.isExplicitParameter),i.reason].join("|"),o=this._lastExposureTimeMap[s],a=Date.now();return!(o&&a-o<6e5)&&(Object.keys(this._lastExposureTimeMap).length>1e3&&(this._lastExposureTimeMap={}),this._lastExposureTimeMap[s]=a,!0)}_sendEvents(e){var t,r;return i(this,void 0,void 0,(function*(){if(this._isLoggingDisabled)return this._saveFailedLogsToStorage(e),!1;try{const i=(0,h._isUnloading)()&&this._network.isBeaconSupported()&&null==(null===(r=null===(t=this._options)||void 0===t?void 0:t.networkConfig)||void 0===r?void 0:r.networkOverrideFunc);this._emitter({name:"pre_logs_flushed",events:e});return(i?yield this._sendEventsViaBeacon(e):yield this._sendEventsViaPost(e)).success?(this._emitter({name:"logs_flushed",events:e}),!0):(o.Log.warn("Failed to flush events."),this._saveFailedLogsToStorage(e),!1)}catch(e){return o.Log.warn("Failed to flush events."),!1}}))}_sendEventsViaPost(e){var t;return i(this,void 0,void 0,(function*(){const r=yield this._network.post(this._getRequestData(e)),i=null!==(t=null==r?void 0:r.code)&&void 0!==t?t:-1;return{success:i>=200&&i<300}}))}_sendEventsViaBeacon(e){return i(this,void 0,void 0,(function*(){return{success:yield this._network.beacon(this._getRequestData(e))}}))}_getRequestData(e){return{sdkKey:this._sdkKey,data:{events:e},urlConfig:this._logEventUrlConfig,retries:3,isCompressable:!0,params:{[a.NetworkParam.EventCount]:String(e.length)}}}_saveFailedLogsToStorage(e){for(;e.length>500;)e.shift();const t=this._getStorageKey();try{(0,c._setObjectInStorage)(t,e)}catch(e){o.Log.warn("Unable to save failed logs to storage")}}_retryFailedLogs(e){const t=this._getStorageKey();(()=>i(this,void 0,void 0,(function*(){c.Storage.isReady()||(yield c.Storage.isReadyResolver());const r=(0,c._getObjectFromStorage)(t);if(!r)return;e===g&&c.Storage.removeItem(t);(yield this._sendEvents(r))&&e===_&&c.Storage.removeItem(t)})))().catch(()=>{o.Log.warn("Failed to flush stored logs")})}_getStorageKey(){return"statsig.failed_logs."+(0,s._DJB2)(this._sdkKey)}_normalizeAndAppendEvent(e){e.user&&(e.user=Object.assign({},e.user),delete e.user.privateAttributes);const t={},r=this._getCurrentPageUrl();r&&(t.statsigMetadata={currentPage:r});const i=Object.assign(Object.assign({},e),t);o.Log.debug("Enqueued Event:",i),this._queue.push(i)}_appendAndResetNonExposedChecks(){0!==Object.keys(this._nonExposedChecks).length&&(this._normalizeAndAppendEvent({eventName:"statsig::non_exposed_checks",user:null,time:Date.now(),metadata:{checks:Object.assign({},this._nonExposedChecks)}}),this._nonExposedChecks={})}_getCurrentPageUrl(){var e;if(!1!==(null===(e=this._options)||void 0===e?void 0:e.includeCurrentPageUrlWithEvents))return(0,l._getCurrentPageUrlSafe)()}_startBackgroundFlushInterval(){var e,t;const r=null!==(t=null===(e=this._options)||void 0===e?void 0:e.loggingIntervalMs)&&void 0!==t?t:1e4,i=setInterval(()=>{const e=f[this._sdkKey];e&&e._flushIntervalId===i?p._safeFlushAndForget(this._sdkKey):clearInterval(i)},r);this._flushIntervalId=i}}t.EventLogger=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._getStorageKey=t._getUserStorageKey=void 0;const i=r(18);function n(e,t,r){var n;if(r)return r(e,t);const s=t&&t.customIDs?t.customIDs:{},o=["uid:"+(null!==(n=null==t?void 0:t.userID)&&void 0!==n?n:""),"cids:"+Object.keys(s).sort((e,t)=>e.localeCompare(t)).map(e=>`${e}-${s[e]}`).join(","),"k:"+e];return(0,i._DJB2)(o.join("|"))}t._getUserStorageKey=n,t._getStorageKey=function(e,t,r){return t?n(e,t,r):(0,i._DJB2)("k:"+e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._getSortedObject=t._DJB2Object=t._DJB2=void 0;const i=r(19);t._DJB2=e=>{let t=0;for(let r=0;r<e.length;r++){t=(t<<5)-t+e.charCodeAt(r),t&=t}return String(t>>>0)};t._DJB2Object=(e,r)=>(0,t._DJB2)(JSON.stringify((0,t._getSortedObject)(e,r)));t._getSortedObject=(e,r)=>{if(null==e)return null;const n=Object.keys(e).sort(),s={};return n.forEach(n=>{const o=e[n];0!==r&&"object"===(0,i._typeOf)(o)?s[n]=(0,t._getSortedObject)(o,null!=r?r-1:r):s[n]=o}),s}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._isTypeMatch=t._typeOf=void 0,t._typeOf=function(e){return Array.isArray(e)?"array":typeof e},t._isTypeMatch=function(e,t){const r=e=>Array.isArray(e)?"array":typeof e;return r(e)===r(t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NetworkParam=t.NetworkDefault=t.Endpoint=void 0,t.Endpoint={_initialize:"initialize",_rgstr:"rgstr",_download_config_specs:"download_config_specs"},t.NetworkDefault={[t.Endpoint._rgstr]:"https://prodregistryv2.org/v1",[t.Endpoint._initialize]:"https://featureassets.org/v1",[t.Endpoint._download_config_specs]:"https://api.statsigcdn.com/v1"},t.NetworkParam={EventCount:"ec",SdkKey:"k",SdkType:"st",SdkVersion:"sv",Time:"t",SessionID:"sid",StatsigEncoded:"se",IsGzipped:"gz"}},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t._getCurrentPageUrlSafe=t._addDocumentEventListenerSafe=t._addWindowEventListenerSafe=t._isServerEnv=t._getDocumentSafe=t._getWindowSafe=void 0;t._getWindowSafe=()=>"undefined"!=typeof window?window:null;t._getDocumentSafe=()=>{var e;const r=(0,t._getWindowSafe)();return null!==(e=null==r?void 0:r.document)&&void 0!==e?e:null};t._isServerEnv=()=>{if(null!==(0,t._getDocumentSafe)())return!1;const r=void 0!==e&&null!=e.versions&&null!=e.versions.node;return"string"==typeof EdgeRuntime||r};t._addWindowEventListenerSafe=(e,r)=>{const i=(0,t._getWindowSafe)();"function"==typeof(null==i?void 0:i.addEventListener)&&i.addEventListener(e,r)};t._addDocumentEventListenerSafe=(e,r)=>{const i=(0,t._getDocumentSafe)();"function"==typeof(null==i?void 0:i.addEventListener)&&i.addEventListener(e,r)};t._getCurrentPageUrlSafe=()=>{var e;try{return null===(e=(0,t._getWindowSafe)())||void 0===e?void 0:e.location.href.split(/[?#]/)[0]}catch(e){return}}}).call(this,r(22))},function(e,t){var r,i,n=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(e){r=s}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(e){i=o}}();var l,u=[],c=!1,d=-1;function h(){c&&l&&(c=!1,l.length?u=l.concat(u):d=-1,u.length&&f())}function f(){if(!c){var e=a(h);c=!0;for(var t=u.length;t;){for(l=u,u=[];++d<t;)l&&l[d].run();d=-1,t=u.length}l=null,c=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function _(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new g(e,t)),1!==u.length||c||a(f)},g.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=_,n.addListener=_,n.once=_,n.off=_,n.removeListener=_,n.removeAllListeners=_,n.emit=_,n.prependListener=_,n.prependOnceListener=_,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._createLayerParameterExposure=t._createConfigExposure=t._createGateExposure=t._isExposureEvent=void 0;const i=(e,t,r,i,s)=>(r.bootstrapMetadata&&(i.bootstrapMetadata=r.bootstrapMetadata),{eventName:e,user:t,value:null,metadata:n(r,i),secondaryExposures:s,time:Date.now()});t._isExposureEvent=({eventName:e})=>"statsig::gate_exposure"===e||"statsig::config_exposure"===e||"statsig::layer_exposure"===e;t._createGateExposure=(e,t)=>{var r,n,s;const o={gate:t.name,gateValue:String(t.value),ruleID:t.ruleID};return null!=(null===(r=t.__evaluation)||void 0===r?void 0:r.version)&&(o.configVersion=t.__evaluation.version),i("statsig::gate_exposure",e,t.details,o,null!==(s=null===(n=t.__evaluation)||void 0===n?void 0:n.secondary_exposures)&&void 0!==s?s:[])};t._createConfigExposure=(e,t)=>{var r,n,s,o;const a={config:t.name,ruleID:t.ruleID};return null!=(null===(r=t.__evaluation)||void 0===r?void 0:r.version)&&(a.configVersion=t.__evaluation.version),null!=(null===(n=t.__evaluation)||void 0===n?void 0:n.passed)&&(a.rulePassed=String(t.__evaluation.passed)),i("statsig::config_exposure",e,t.details,a,null!==(o=null===(s=t.__evaluation)||void 0===s?void 0:s.secondary_exposures)&&void 0!==o?o:[])};t._createLayerParameterExposure=(e,t,r)=>{var n,s,o,a;const l=t.__evaluation,u=!0===(null===(n=null==l?void 0:l.explicit_parameters)||void 0===n?void 0:n.includes(r));let c="",d=null!==(s=null==l?void 0:l.undelegated_secondary_exposures)&&void 0!==s?s:[];u&&(c=null!==(o=l.allocated_experiment_name)&&void 0!==o?o:"",d=l.secondary_exposures);const h={config:t.name,parameterName:r,ruleID:t.ruleID,allocatedExperiment:c,isExplicitParameter:String(u)};return null!=(null===(a=t.__evaluation)||void 0===a?void 0:a.version)&&(h.configVersion=t.__evaluation.version),i("statsig::layer_exposure",e,t.details,h,d)};const n=(e,t)=>(t.reason=e.reason,e.lcut&&(t.lcut=String(e.lcut)),e.receivedAt&&(t.receivedAt=String(e.receivedAt)),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._setObjectInStorage=t._getObjectFromStorage=t.Storage=void 0;const i=r(14),n=r(21),s={},o={isReady:()=>!0,isReadyResolver:()=>null,getProviderName:()=>"InMemory",getItem:e=>s[e]?s[e]:null,setItem:(e,t)=>{s[e]=t},removeItem:e=>{delete s[e]},getAllKeys:()=>Object.keys(s)};let a=null;try{const e=(0,n._getWindowSafe)();e&&e.localStorage&&"function"==typeof e.localStorage.getItem&&(a={isReady:()=>!0,isReadyResolver:()=>null,getProviderName:()=>"LocalStorage",getItem:t=>e.localStorage.getItem(t),setItem:(t,r)=>e.localStorage.setItem(t,r),removeItem:t=>e.localStorage.removeItem(t),getAllKeys:()=>Object.keys(e.localStorage)})}catch(e){i.Log.warn("Failed to setup localStorageProvider.")}let l=null!=a?a:o,u=l;t.Storage={isReady:()=>u.isReady(),isReadyResolver:()=>u.isReadyResolver(),getProviderName:()=>u.getProviderName(),getItem:e=>function(e){try{return e()}catch(e){if(e instanceof Error&&"SecurityError"===e.name)return t.Storage._setProvider(o),null;throw e}}(()=>u.getItem(e)),setItem:(e,t)=>u.setItem(e,t),removeItem:e=>u.removeItem(e),getAllKeys:()=>u.getAllKeys(),_setProvider:e=>{l=e,u=e},_setDisabled:e=>{u=e?o:l}},t._getObjectFromStorage=function(e){const r=t.Storage.getItem(e);return JSON.parse(null!=r?r:"null")},t._setObjectInStorage=function(e,r){t.Storage.setItem(e,JSON.stringify(r))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UrlConfiguration=void 0;const i=r(20),n={[i.Endpoint._initialize]:"i",[i.Endpoint._rgstr]:"e",[i.Endpoint._download_config_specs]:"d"};t.UrlConfiguration=class{constructor(e,t,r,s){this.customUrl=null,this.fallbackUrls=null,this.endpoint=e,this.endpointDnsKey=n[e],t&&(this.customUrl=t),!t&&r&&(this.customUrl=r.endsWith("/")?`${r}${e}`:`${r}/${e}`),s&&(this.fallbackUrls=s);const o=i.NetworkDefault[e];this.defaultUrl=`${o}/${e}`}getUrl(){var e;return null!==(e=this.customUrl)&&void 0!==e?e:this.defaultUrl}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._notifyVisibilityChanged=t._subscribeToVisiblityChanged=t._isUnloading=t._isCurrentlyVisible=void 0;const i=r(21),n=[];let s="foreground",o=!1;t._isCurrentlyVisible=()=>"foreground"===s;t._isUnloading=()=>o;t._subscribeToVisiblityChanged=e=>{n.unshift(e)};t._notifyVisibilityChanged=e=>{e!==s&&(s=e,n.forEach(t=>t(e)))},(0,i._addWindowEventListenerSafe)("focus",()=>{o=!1,(0,t._notifyVisibilityChanged)("foreground")}),(0,i._addWindowEventListenerSafe)("blur",()=>(0,t._notifyVisibilityChanged)("background")),(0,i._addWindowEventListenerSafe)("beforeunload",()=>{o=!0,(0,t._notifyVisibilityChanged)("background")}),(0,i._addDocumentEventListenerSafe)("visibilitychange",()=>{(0,t._notifyVisibilityChanged)("visible"===document.visibilityState?"foreground":"background")})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigMetadataProvider=t.SDK_VERSION=void 0,t.SDK_VERSION="3.12.0";let i={sdkVersion:t.SDK_VERSION,sdkType:"js-mono"};t.StatsigMetadataProvider={get:()=>i,add:e=>{i=Object.assign(Object.assign({},i),e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t._makeDataAdapterResult=t.DataAdapterCore=void 0;const n=r(14),s=r(30),o=r(32),a=r(24),l=r(33);function u(e,t,r,i){return{source:e,data:t,receivedAt:Date.now(),stableID:r,fullUserHash:(0,o._getFullUserHash)(i)}}t.DataAdapterCore=class{constructor(e,t){this._adapterName=e,this._cacheSuffix=t,this._options=null,this._sdkKey=null,this._lastModifiedStoreKey="statsig.last_modified_time."+t,this._inMemoryCache=new c}attach(e,t){this._sdkKey=e,this._options=t}getDataSync(e){const t=e&&(0,o._normalizeUser)(e,this._options),r=this._getCacheKey(t),i=this._inMemoryCache.get(r,t);if(i)return i;const n=this._loadFromCache(r);return n?(this._inMemoryCache.add(r,n),this._inMemoryCache.get(r,t)):null}setData(e,t){const r=t&&(0,o._normalizeUser)(t,this._options),i=this._getCacheKey(r);this._inMemoryCache.add(i,u("Bootstrap",e,null,r))}_getDataAsyncImpl(e,t,r){return i(this,void 0,void 0,(function*(){a.Storage.isReady()||(yield a.Storage.isReadyResolver());const i=null!=e?e:this.getDataSync(t),s=[this._fetchAndPrepFromNetwork(i,t,r)];return(null==r?void 0:r.timeoutMs)&&s.push(new Promise(e=>setTimeout(e,r.timeoutMs)).then(()=>(n.Log.debug("Fetching latest value timed out"),null))),yield Promise.race(s)}))}_prefetchDataImpl(e,t){return i(this,void 0,void 0,(function*(){const r=e&&(0,o._normalizeUser)(e,this._options),i=this._getCacheKey(r),n=yield this._getDataAsyncImpl(null,r,t);n&&this._inMemoryCache.add(i,Object.assign(Object.assign({},n),{source:"Prefetch"}))}))}_fetchAndPrepFromNetwork(e,t,r){return i(this,void 0,void 0,(function*(){let i=null;e&&this._isCachedResultValidFor204(e,t)&&(i=e.data);const o=yield this._fetchFromNetwork(i,t,r);if(!o)return n.Log.debug("No response returned for latest value"),null;const a=(0,l._typedJsonParse)(o,"has_updates","Response"),c=this._getSdkKey(),d=s.StableID.get(c);let h=null;if(!0===(null==a?void 0:a.has_updates))h=u("Network",o,d,t);else{if(!i||!1!==(null==a?void 0:a.has_updates))return null;h=u("NetworkNotModified",i,d,t)}const f=this._getCacheKey(t);return this._inMemoryCache.add(f,h),this._writeToCache(f,h),h}))}_getSdkKey(){return null!=this._sdkKey?this._sdkKey:(n.Log.error(this._adapterName+" is not attached to a Client"),"")}_loadFromCache(e){var t;const r=null===(t=a.Storage.getItem)||void 0===t?void 0:t.call(a.Storage,e);if(null==r)return null;const i=(0,l._typedJsonParse)(r,"source","Cached Result");return i?Object.assign(Object.assign({},i),{source:"Cache"}):null}_writeToCache(e,t){a.Storage.setItem(e,JSON.stringify(t)),this._runLocalStorageCacheEviction(e)}_runLocalStorageCacheEviction(e){var t;const r=null!==(t=(0,a._getObjectFromStorage)(this._lastModifiedStoreKey))&&void 0!==t?t:{};r[e]=Date.now();const i=d(r,10);i&&(delete r[i],a.Storage.removeItem(i)),(0,a._setObjectInStorage)(this._lastModifiedStoreKey,r)}},t._makeDataAdapterResult=u;class c{constructor(){this._data={}}get(e,t){var r;const i=this._data[e],s=null==i?void 0:i.stableID,o=null===(r=null==t?void 0:t.customIDs)||void 0===r?void 0:r.stableID;return o&&s&&o!==s?(n.Log.warn("'StatsigUser.customIDs.stableID' mismatch"),null):i}add(e,t){const r=d(this._data,9);r&&delete this._data[r],this._data[e]=t}merge(e){this._data=Object.assign(Object.assign({},this._data),e)}}function d(e,t){const r=Object.keys(e);return r.length<=t?null:r.reduce((t,r)=>{const i=e[t],n=e[r];return"object"==typeof i&&"object"==typeof n?n.receivedAt<i.receivedAt?r:t:n<i?r:t})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StableID=void 0;const i=r(17),n=r(14),s=r(24),o=r(31),a={};function l(e){return"statsig.stable_id."+(0,i._getStorageKey)(e)}function u(e,t){const r=l(t);try{(0,s._setObjectInStorage)(r,e)}catch(e){n.Log.warn("Failed to save StableID")}}t.StableID={get:e=>{if(null==a[e]){let t=function(e){const t=l(e);return(0,s._getObjectFromStorage)(t)}(e);null==t&&(t=(0,o.getUUID)(),u(t,e)),a[e]=t}return a[e]},setOverride:(e,t)=>{a[t]=e,u(e,t)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUUID=void 0,t.getUUID=function(){if("undefined"!=typeof crypto&&"function"==typeof crypto.randomUUID)return crypto.randomUUID();let e=(new Date).getTime(),t="undefined"!=typeof performance&&performance.now&&1e3*performance.now()||0;return`xxxxxxxx-xxxx-4xxx-${"89ab"[Math.floor(4*Math.random())]}xxx-xxxxxxxxxxxx`.replace(/[xy]/g,r=>{let i=16*Math.random();return e>0?(i=(e+i)%16|0,e=Math.floor(e/16)):(i=(t+i)%16|0,t=Math.floor(t/16)),("x"===r?i:7&i|8).toString(16)})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._getFullUserHash=t._normalizeUser=void 0;const i=r(18),n=r(14);t._normalizeUser=function(e,t,r){try{const i=JSON.parse(JSON.stringify(e));return null!=t&&null!=t.environment?i.statsigEnvironment=t.environment:null!=r&&(i.statsigEnvironment={tier:r}),i}catch(e){return n.Log.error("Failed to JSON.stringify user"),{statsigEnvironment:void 0}}},t._getFullUserHash=function(e){return e?(0,i._DJB2Object)(e):null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._typedJsonParse=void 0;const i=r(14);t._typedJsonParse=function(e,t,r){try{const r=JSON.parse(e);if(r&&"object"==typeof r&&t in r)return r}catch(e){}return i.Log.error("Failed to parse "+r),null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorBoundary=t.EXCEPTION_ENDPOINT=void 0;const n=r(14),s=r(36),o=r(27);t.EXCEPTION_ENDPOINT="https://statsigapi.net/v1/sdk_exception";function a(e){return e instanceof Error?e:"string"==typeof e?new Error(e):new Error("An unknown error occurred.")}t.ErrorBoundary=class{constructor(e,t,r,i){this._sdkKey=e,this._options=t,this._emitter=r,this._lastSeenError=i,this._seen=new Set}wrap(e){try{const t=e;(function(e){const t=new Set;let r=Object.getPrototypeOf(e);for(;r&&r!==Object.prototype;)Object.getOwnPropertyNames(r).filter(e=>"function"==typeof(null==r?void 0:r[e])).forEach(e=>t.add(e)),r=Object.getPrototypeOf(r);return Array.from(t)})(t).forEach(r=>{const i=t[r];"$EB"in i||(t[r]=(...t)=>this._capture(r,()=>i.apply(e,t)),t[r].$EB=!0)})}catch(e){this._onError("eb:wrap",e)}}logError(e,t){this._onError(e,t)}getLastSeenErrorAndReset(){const e=this._lastSeenError;return this._lastSeenError=void 0,null!=e?e:null}attachErrorIfNoneExists(e){this._lastSeenError||(this._lastSeenError=a(e))}_capture(e,t){try{const r=t();return r&&r instanceof Promise?r.catch(t=>this._onError(e,t)):r}catch(t){return this._onError(e,t),null}}_onError(e,r){try{n.Log.warn("Caught error in "+e,{error:r});(()=>i(this,void 0,void 0,(function*(){var i,n,l,u,c,d,h;const f=r||Error("[Statsig] UnknownError"),g=f instanceof Error,_=g?f.name:"No Name",p=a(f);if(this._lastSeenError=p,this._seen.has(_))return;if(this._seen.add(_),null===(n=null===(i=this._options)||void 0===i?void 0:i.networkConfig)||void 0===n?void 0:n.preventAllNetworkTraffic)return void(null===(l=this._emitter)||void 0===l||l.call(this,{name:"error",error:r,tag:e}));const v=s.SDKType._get(this._sdkKey),m=o.StatsigMetadataProvider.get(),y=g?f.stack:function(e){try{return JSON.stringify(e)}catch(e){return"[Statsig] UnknownError"}}(f),b=JSON.stringify(Object.assign({tag:e,exception:_,info:y},Object.assign(Object.assign({},m),{sdkType:v}))),O=null!==(d=null===(c=null===(u=this._options)||void 0===u?void 0:u.networkConfig)||void 0===c?void 0:c.networkOverrideFunc)&&void 0!==d?d:fetch;yield O(t.EXCEPTION_ENDPOINT,{method:"POST",headers:{"STATSIG-API-KEY":this._sdkKey,"STATSIG-SDK-TYPE":String(v),"STATSIG-SDK-VERSION":String(m.sdkVersion),"Content-Type":"application/json"},body:b}),null===(h=this._emitter)||void 0===h||h.call(this,{name:"error",error:r,tag:e})})))().then(()=>{}).catch(()=>{})}catch(e){}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SDKType=void 0;const i={};let n;t.SDKType={_get:e=>{var t;return(null!==(t=i[e])&&void 0!==t?t:"js-mono")+(null!=n?n:"")},_setClientType(e,t){i[e]=t},_setBindingType(e){n&&"-react"!==n||(n="-"+e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createMemoKey=t.MemoPrefix=void 0,t.MemoPrefix={_gate:"g",_dynamicConfig:"c",_experiment:"e",_layer:"l",_paramStore:"p"};const i=new Set([]),n=new Set(["userPersistedValues"]);t.createMemoKey=function(e,t,r){let s=`${e}|${t}`;if(!r)return s;for(const e of Object.keys(r)){if(n.has(e))return;i.has(e)?s+=`|${e}=true`:s+=`|${e}=${r[e]}`}return s}},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.NetworkCore=void 0,r(12);const n=r(12),s=r(15),o=r(14),a=r(20),l=r(42),u=r(36),c=r(21),d=r(44),h=r(30),f=r(45),g=r(27),_=r(26),p=new Set([408,500,502,503,504,522,524,599]);t.NetworkCore=class{constructor(e,t){this._emitter=t,this._errorBoundary=null,this._timeout=1e4,this._netConfig={},this._options={},this._leakyBucket={},this._lastUsedInitUrl=null,e&&(this._options=e),this._options.networkConfig&&(this._netConfig=this._options.networkConfig),this._netConfig.networkTimeoutMs&&(this._timeout=this._netConfig.networkTimeoutMs),this._fallbackResolver=new l.NetworkFallbackResolver(this._options)}setErrorBoundary(e){this._errorBoundary=e,this._errorBoundary.wrap(this),this._errorBoundary.wrap(this._fallbackResolver),this._fallbackResolver.setErrorBoundary(e)}isBeaconSupported(){return"undefined"!=typeof navigator&&"function"==typeof navigator.sendBeacon}getLastUsedInitUrlAndReset(){const e=this._lastUsedInitUrl;return this._lastUsedInitUrl=null,e}beacon(e){return i(this,void 0,void 0,(function*(){if(!v(e))return!1;const t=this._getInternalRequestArgs("POST",e),r=yield this._getPopulatedBody(t,e.data),i=yield this._getPopulatedURL(t),n=navigator;return n.sendBeacon.bind(n)(i,r)}))}post(e){return i(this,void 0,void 0,(function*(){const t=this._getInternalRequestArgs("POST",e);return t.body=yield this._getPopulatedBody(t,e.data),e.isStatsigEncodable&&(t.body=this._attemptToEncodeString(t,t.body)),this._sendRequest(t)}))}get(e){const t=this._getInternalRequestArgs("GET",e);return this._sendRequest(t)}_sendRequest(e){var t,r,n,l;return i(this,void 0,void 0,(function*(){if(!v(e))return null;if(this._netConfig.preventAllNetworkTraffic)return null;const{method:u,body:c,retries:d,attempt:h}=e,g=e.urlConfig.endpoint;if(this._isRateLimited(g))return o.Log.warn(`Request to ${g} was blocked because you are making requests too frequently.`),null;const y=null!=h?h:1,b="undefined"!=typeof AbortController?new AbortController:null,O=setTimeout(()=>{null==b||b.abort(`Timeout of ${this._timeout}ms expired.`)},this._timeout),E=yield this._getPopulatedURL(e);let w=null;const S=(0,_._isUnloading)();try{const r={method:u,body:c,headers:Object.assign({},e.headers),signal:null==b?void 0:b.signal,priority:e.priority,keepalive:S};!function(e,t){if(e.urlConfig.endpoint!==a.Endpoint._initialize)return;s.Diagnostics._markInitNetworkReqStart(e.sdkKey,{attempt:t})}(e,y);const i=this._leakyBucket[g];i&&(i.lastRequestTime=Date.now(),this._leakyBucket[g]=i);const n=null!==(t=this._netConfig.networkOverrideFunc)&&void 0!==t?t:fetch;if(w=yield n(E,r),clearTimeout(O),!w.ok){const e=yield w.text().catch(()=>"No Text"),t=new Error(`NetworkError: ${E} ${e}`);throw t.name="NetworkError",t}const o=yield w.text();return m(e,w,y,o),this._fallbackResolver.tryBumpExpiryTime(e.sdkKey,e.urlConfig),{body:o,code:w.status}}catch(t){const s=function(e,t){if((null==e?void 0:e.signal.aborted)&&"string"==typeof e.signal.reason)return e.signal.reason;if("string"==typeof t)return t;if(t instanceof Error)return`${t.name}: ${t.message}`;return"Unknown Error"}(b,t),a=(null==(k=b)?void 0:k.signal.aborted)&&"string"==typeof k.signal.reason&&k.signal.reason.includes("Timeout")||!1;m(e,w,y,"",t);if((yield this._fallbackResolver.tryFetchUpdatedFallbackInfo(e.sdkKey,e.urlConfig,s,a))&&(e.fallbackUrl=this._fallbackResolver.getActiveFallbackUrl(e.sdkKey,e.urlConfig)),!d||y>d||!p.has(null!==(r=null==w?void 0:w.status)&&void 0!==r?r:500)){null===(n=this._emitter)||void 0===n||n.call(this,{name:"error",error:t,tag:f.ErrorTag.NetworkError,requestArgs:e});const r=`A networking error occurred during ${u} request to ${E}.`;return o.Log.error(r,s,t),null===(l=this._errorBoundary)||void 0===l||l.attachErrorIfNoneExists(r),null}return yield function(e){return i(this,void 0,void 0,(function*(){yield new Promise(t=>setTimeout(t,Math.min(e*e*500,3e4)))}))}(y),this._sendRequest(Object.assign(Object.assign({},e),{retries:d,attempt:y+1}))}var k}))}_isRateLimited(e){var t;const r=Date.now(),i=null!==(t=this._leakyBucket[e])&&void 0!==t?t:{count:0,lastRequestTime:r},n=r-i.lastRequestTime,s=Math.floor(.05*n);return i.count=Math.max(0,i.count-s),i.count>=50||(i.count+=1,i.lastRequestTime=r,this._leakyBucket[e]=i,!1)}_getPopulatedURL(e){var t;return i(this,void 0,void 0,(function*(){const r=null!==(t=e.fallbackUrl)&&void 0!==t?t:e.urlConfig.getUrl();e.urlConfig.endpoint!==a.Endpoint._initialize&&e.urlConfig.endpoint!==a.Endpoint._download_config_specs||(this._lastUsedInitUrl=r);const i=Object.assign({[a.NetworkParam.SdkKey]:e.sdkKey,[a.NetworkParam.SdkType]:u.SDKType._get(e.sdkKey),[a.NetworkParam.SdkVersion]:g.SDK_VERSION,[a.NetworkParam.Time]:String(Date.now()),[a.NetworkParam.SessionID]:d.SessionID.get(e.sdkKey)},e.params),n=Object.keys(i).map(e=>`${encodeURIComponent(e)}=${encodeURIComponent(i[e])}`).join("&");return`${r}${n?"?"+n:""}`}))}_getPopulatedBody(e,t){return i(this,void 0,void 0,(function*(){const{sdkKey:r,fallbackUrl:i}=e,n=h.StableID.get(r),s=d.SessionID.get(r),o=u.SDKType._get(r);return JSON.stringify(Object.assign(Object.assign({},t),{statsigMetadata:Object.assign(Object.assign({},g.StatsigMetadataProvider.get()),{stableID:n,sessionID:s,sdkType:o,fallbackUrl:i})}))}))}_attemptToEncodeString(e,t){var r,i;const s=(0,c._getWindowSafe)();if(this._options.disableStatsigEncoding||null!=(0,n._getStatsigGlobalFlag)("no-encode")||!(null==s?void 0:s.btoa))return t;try{const n=null!==(r=s.btoa(t).split("").reverse().join(""))&&void 0!==r?r:t;return e.params=Object.assign(Object.assign({},null!==(i=e.params)&&void 0!==i?i:{}),{[a.NetworkParam.StatsigEncoded]:"1"}),n}catch(r){return o.Log.warn("Request encoding failed for "+e.urlConfig.getUrl()),t}}_getInternalRequestArgs(e,t){const r=this._fallbackResolver.getActiveFallbackUrl(t.sdkKey,t.urlConfig);return Object.assign(Object.assign({},t),{method:e,fallbackUrl:r})}};const v=e=>!!e.sdkKey||(o.Log.warn("Unable to make request without an SDK key"),!1);function m(e,t,r,i,n){e.urlConfig.endpoint===a.Endpoint._initialize&&s.Diagnostics._markInitNetworkReqEnd(e.sdkKey,s.Diagnostics._getDiagnosticsData(t,r,i,n))}},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t._isDomainFailure=t.NetworkFallbackResolver=void 0;const n=r(43),s=r(18),o=r(14),a=r(24);function l(e,t){var r;const i=null!==(r=null==e?void 0:e.toLowerCase())&&void 0!==r?r:"";return t||i.includes("uncaught exception")||i.includes("failed to fetch")||i.includes("networkerror when attempting to fetch resource")}function u(e){return"statsig.network_fallback."+(0,s._DJB2)(e)}function c(e,t){const r=u(e);t&&0!==Object.keys(t).length?a.Storage.setItem(r,JSON.stringify(t)):a.Storage.removeItem(r)}function d(e){try{return new URL(e).pathname}catch(e){return null}}t.NetworkFallbackResolver=class{constructor(e){var t;this._fallbackInfo=null,this._errorBoundary=null,this._dnsQueryCooldowns={},this._networkOverrideFunc=null===(t=e.networkConfig)||void 0===t?void 0:t.networkOverrideFunc}setErrorBoundary(e){this._errorBoundary=e}tryBumpExpiryTime(e,t){var r;const i=null===(r=this._fallbackInfo)||void 0===r?void 0:r[t.endpoint];i&&(i.expiryTime=Date.now()+6048e5,c(e,Object.assign(Object.assign({},this._fallbackInfo),{[t.endpoint]:i})))}getActiveFallbackUrl(e,t){var r,i;let n=this._fallbackInfo;null==n&&(n=null!==(r=function(e){const t=u(e),r=a.Storage.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(e){return o.Log.error("Failed to parse FallbackInfo"),null}}(e))&&void 0!==r?r:{},this._fallbackInfo=n);const s=n[t.endpoint];return!s||Date.now()>(null!==(i=s.expiryTime)&&void 0!==i?i:0)?(delete n[t.endpoint],this._fallbackInfo=n,c(e,this._fallbackInfo),null):s.url?s.url:null}getFallbackFromProvided(e){const t=d(e);return t?e.replace(t,""):null}tryFetchUpdatedFallbackInfo(e,t,r,n){var s,o;return i(this,void 0,void 0,(function*(){try{if(!l(r,n))return!1;const i=null==t.customUrl&&null==t.fallbackUrls?yield this._tryFetchFallbackUrlsFromNetwork(t):t.fallbackUrls,o=this._pickNewFallbackUrl(null===(s=this._fallbackInfo)||void 0===s?void 0:s[t.endpoint],i);return!!o&&(this._updateFallbackInfoWithNewUrl(e,t.endpoint,o),!0)}catch(e){return null===(o=this._errorBoundary)||void 0===o||o.logError("tryFetchUpdatedFallbackInfo",e),!1}}))}_updateFallbackInfoWithNewUrl(e,t,r){var i,n,s;const o={url:r,expiryTime:Date.now()+6048e5,previous:[]},a=null===(i=this._fallbackInfo)||void 0===i?void 0:i[t];a&&o.previous.push(...a.previous),o.previous.length>10&&(o.previous=[]);const l=null===(s=null===(n=this._fallbackInfo)||void 0===n?void 0:n[t])||void 0===s?void 0:s.url;null!=l&&o.previous.push(l),this._fallbackInfo=Object.assign(Object.assign({},this._fallbackInfo),{[t]:o}),c(e,this._fallbackInfo)}_tryFetchFallbackUrlsFromNetwork(e){var t;return i(this,void 0,void 0,(function*(){const r=this._dnsQueryCooldowns[e.endpoint];if(r&&Date.now()<r)return null;this._dnsQueryCooldowns[e.endpoint]=Date.now()+144e5;const i=[],s=yield(0,n._fetchTxtRecords)(null!==(t=this._networkOverrideFunc)&&void 0!==t?t:fetch),o=d(e.defaultUrl);for(const t of s){if(!t.startsWith(e.endpointDnsKey+"="))continue;const r=t.split("=");if(r.length>1){let e=r[1];e.endsWith("/")&&(e=e.slice(0,-1)),i.push(`https://${e}${o}`)}}return i}))}_pickNewFallbackUrl(e,t){var r;if(null==t)return null;const i=new Set(null!==(r=null==e?void 0:e.previous)&&void 0!==r?r:[]),n=null==e?void 0:e.url;let s=null;for(const e of t){const t=e.endsWith("/")?e.slice(0,-1):e;if(!i.has(e)&&t!==n){s=t;break}}return s}},t._isDomainFailure=l},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t._fetchTxtRecords=void 0;const n=new Uint8Array([0,0,1,0,0,1,0,0,0,0,0,0,13,102,101,97,116,117,114,101,97,115,115,101,116,115,3,111,114,103,0,0,16,0,1]),s=["i","e","d"];t._fetchTxtRecords=function(e){return i(this,void 0,void 0,(function*(){const t=yield e("https://cloudflare-dns.com/dns-query",{method:"POST",headers:{"Content-Type":"application/dns-message",Accept:"application/dns-message"},body:n});if(!t.ok){const e=new Error("Failed to fetch TXT records from DNS");throw e.name="DnsTxtFetchError",e}const r=yield t.arrayBuffer();return function(e){const t=e.findIndex((t,r)=>r<200&&"="===String.fromCharCode(t)&&s.includes(String.fromCharCode(e[r-1])));if(-1===t){const e=new Error("Failed to parse TXT records from DNS");throw e.name="DnsTxtParseError",e}let r="";for(let i=t-1;i<e.length;i++)r+=String.fromCharCode(e[i]);return r.split(",")}(new Uint8Array(r))}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigSession=t.SessionID=void 0;const i=r(17),n=r(14),s=r(24),o=r(31),a={};function l(e,t){return setTimeout(()=>{const t=null===__STATSIG__||void 0===__STATSIG__?void 0:__STATSIG__.instance(e);t&&t.$emt({name:"session_expired"})},t)}function u(e){return"statsig.session_id."+(0,i._getStorageKey)(e)}t.SessionID={get:e=>t.StatsigSession.get(e).data.sessionID},t.StatsigSession={get:e=>{null==a[e]&&(a[e]=function(e){let t=function(e){const t=u(e);return(0,s._getObjectFromStorage)(t)}(e);const r=Date.now();t||(t={sessionID:(0,o.getUUID)(),startTime:r,lastUpdate:r});return{data:t,sdkKey:e}}(e));return function(e){const t=Date.now(),r=e.data;(function({lastUpdate:e}){return Date.now()-e>18e5}(r)||function({startTime:e}){return Date.now()-e>144e5}(r))&&(r.sessionID=(0,o.getUUID)(),r.startTime=t);r.lastUpdate=t,function(e,t){const r=u(t);try{(0,s._setObjectInStorage)(r,e)}catch(e){n.Log.warn("Failed to save SessionID")}}(r,e.sdkKey),clearTimeout(e.idleTimeoutID),clearTimeout(e.ageTimeoutID);const i=t-r.startTime,a=e.sdkKey;return e.idleTimeoutID=l(a,18e5),e.ageTimeoutID=l(a,144e5-i),e}(a[e])},overrideInitialSessionID:(e,t)=>{a[t]=function(e,t){const r=Date.now();return{data:{sessionID:e,startTime:r,lastUpdate:r},sdkKey:t}}(e,t)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorTag=void 0,t.ErrorTag={NetworkError:"NetworkError"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigClientBase=void 0,r(12);const n=r(12),s=r(35),o=r(16),a=r(14),l=r(40),u=r(21),c=r(44),d=r(24);t.StatsigClientBase=class{constructor(e,t,r,i){var l;this.loadingStatus="Uninitialized",this._initializePromise=null,this._listeners={};const h=this.$emt.bind(this);null!=(null==i?void 0:i.logLevel)&&(a.Log.level=i.logLevel),(null==i?void 0:i.disableStorage)&&d.Storage._setDisabled(!0),(null==i?void 0:i.initialSessionID)&&c.StatsigSession.overrideInitialSessionID(i.initialSessionID,e),(null==i?void 0:i.storageProvider)&&d.Storage._setProvider(i.storageProvider),this._sdkKey=e,this._options=null!=i?i:{},this._memoCache={},this.overrideAdapter=null!==(l=null==i?void 0:i.overrideAdapter)&&void 0!==l?l:null,this._logger=new o.EventLogger(e,h,r,i),this._errorBoundary=new s.ErrorBoundary(e,i,h),this._errorBoundary.wrap(this),this._errorBoundary.wrap(t),this._errorBoundary.wrap(this._logger),r.setErrorBoundary(this._errorBoundary),this.dataAdapter=t,this.dataAdapter.attach(e,i),this.storageProvider=d.Storage,this._primeReadyRipcord(),function(e,t){var r;if((0,u._isServerEnv)())return;const i=(0,n._getStatsigGlobal)(),s=null!==(r=i.instances)&&void 0!==r?r:{},o=t;null!=s[e]&&a.Log.warn("Creating multiple Statsig clients with the same SDK key can lead to unexpected behavior. Multi-instance support requires different SDK keys.");s[e]=o,i.firstInstance||(i.firstInstance=o);i.instances=s,__STATSIG__=i}(e,this)}updateRuntimeOptions(e){null!=e.disableLogging&&(this._options.disableLogging=e.disableLogging,this._logger.setLoggingDisabled(e.disableLogging)),null!=e.disableStorage&&(this._options.disableStorage=e.disableStorage,d.Storage._setDisabled(e.disableStorage))}flush(){return this._logger.flush()}shutdown(){return i(this,void 0,void 0,(function*(){this.$emt({name:"pre_shutdown"}),this._setStatus("Uninitialized",null),this._initializePromise=null,yield this._logger.stop()}))}on(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}off(e,t){if(this._listeners[e]){const r=this._listeners[e].indexOf(t);-1!==r&&this._listeners[e].splice(r,1)}}$on(e,t){t.__isInternal=!0,this.on(e,t)}$emt(e){var t;const r=t=>{try{t(e)}catch(r){if(!0===t.__isInternal)return void this._errorBoundary.logError("__emit:"+e.name,r);a.Log.error("An error occurred in a StatsigClientEvent listener. This is not an issue with Statsig.",e)}};this._listeners[e.name]&&this._listeners[e.name].forEach(e=>r(e)),null===(t=this._listeners["*"])||void 0===t||t.forEach(r)}_setStatus(e,t){this.loadingStatus=e,this._memoCache={},this.$emt({name:"values_updated",status:e,values:t})}_enqueueExposure(e,t,r){!0!==(null==r?void 0:r.disableExposureLog)?this._logger.enqueue(t):this._logger.incrementNonExposureCount(e)}_memoize(e,t){return(r,i)=>{if(this._options.disableEvaluationMemoization)return t(r,i);const n=(0,l.createMemoKey)(e,r,i);return n?(n in this._memoCache||(Object.keys(this._memoCache).length>=3e3&&(this._memoCache={}),this._memoCache[n]=t(r,i)),this._memoCache[n]):t(r,i)}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataAdapterCachePrefix=void 0,t.DataAdapterCachePrefix="statsig.cached"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._makeTypedGet=t._mergeOverride=t._makeLayer=t._makeExperiment=t._makeDynamicConfig=t._makeFeatureGate=void 0;const i=r(14),n=r(19);function s(e,t,r,i){var n;return{name:e,details:t,ruleID:null!==(n=null==r?void 0:r.rule_id)&&void 0!==n?n:"default",__evaluation:r,value:i}}function o(e,t,r){var i;const n=null!==(i=null==r?void 0:r.value)&&void 0!==i?i:{};return Object.assign(Object.assign({},s(e,t,r,n)),{get:a(e,null==r?void 0:r.value)})}function a(e,t,r){return(s,o)=>{var a;const l=null!==(a=null==t?void 0:t[s])&&void 0!==a?a:null;return null==l?null!=o?o:null:null==o||(0,n._isTypeMatch)(l,o)?(null==r||r(s),l):(i.Log.warn(`Parameter type mismatch. '${e}.${s}' was found to be type '${typeof l}' but fallback/return type is '${typeof o}'. See https://docs.statsig.com/client/javascript-sdk/#typed-getters`),null!=o?o:null)}}t._makeFeatureGate=function(e,t,r){return s(e,t,r,!0===(null==r?void 0:r.value))},t._makeDynamicConfig=o,t._makeExperiment=function(e,t,r){var i;const n=o(e,t,r);return Object.assign(Object.assign({},n),{groupName:null!==(i=null==r?void 0:r.group_name)&&void 0!==i?i:null})},t._makeLayer=function(e,t,r,i){var n,o;return Object.assign(Object.assign({},s(e,t,r,void 0)),{get:a(e,null==r?void 0:r.value,i),groupName:null!==(n=null==r?void 0:r.group_name)&&void 0!==n?n:null,__value:null!==(o=null==r?void 0:r.value)&&void 0!==o?o:{}})},t._mergeOverride=function(e,t,r,i){return Object.assign(Object.assign(Object.assign({},e),t),{get:a(e.name,r,i)})},t._makeTypedGet=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_DETAIL_ERROR_MESSAGES=t.createUpdateDetails=void 0;t.createUpdateDetails=(e,t,r,i,n,s)=>({duration:r,source:t,success:e,error:i,sourceUrl:n,warnings:s}),t.UPDATE_DETAIL_ERROR_MESSAGES={NO_NETWORK_DATA:"No data was returned from the network. This may be due to a network timeout if a timeout value was specified in the options or ad blocker error."}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SDKFlags=void 0;const i={};t.SDKFlags={setFlags:(e,t)=>{i[e]=t},get:(e,t)=>{var r,n;return null!==(n=null===(r=i[e])||void 0===r?void 0:r[t])&&void 0!==n&&n}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(11);t.default=class{constructor(e){this._sdkKey=e,this._rawValues=null,this._values=null,this._source="Uninitialized",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null,this._warnings=new Set}reset(){this._values=null,this._rawValues=null,this._source="Loading",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null}finalize(){this._values||(this._source="NoValues")}getValues(){return this._rawValues?(0,i._typedJsonParse)(this._rawValues,"has_updates","EvaluationStoreValues"):null}setValues(e,t){if(!e)return!1;const r=(0,i._typedJsonParse)(e.data,"has_updates","EvaluationResponse");return null!=r&&(this._source=e.source,!0!==(null==r?void 0:r.has_updates)||(this._rawValues=e.data,this._lcut=r.time,this._receivedAt=e.receivedAt,this._values=r,this._bootstrapMetadata=this._extractBootstrapMetadata(e.source,r),e.source&&r.user&&this._setWarningState(t,r),r.sdk_flags?i.SDKFlags.setFlags(this._sdkKey,r.sdk_flags):i.SDKFlags.setFlags(this._sdkKey,{})),!0)}getWarnings(){if(0!==this._warnings.size)return Array.from(this._warnings)}getGate(e){var t;return this._getDetailedStoreResult(null===(t=this._values)||void 0===t?void 0:t.feature_gates,e)}getConfig(e){var t;return this._getDetailedStoreResult(null===(t=this._values)||void 0===t?void 0:t.dynamic_configs,e)}getLayer(e){var t;return this._getDetailedStoreResult(null===(t=this._values)||void 0===t?void 0:t.layer_configs,e)}getParamStore(e){var t;return this._getDetailedStoreResult(null===(t=this._values)||void 0===t?void 0:t.param_stores,e)}getSource(){return this._source}_extractBootstrapMetadata(e,t){if("Bootstrap"!==e)return null;const r={};return t.user&&(r.user=t.user),t.sdkInfo&&(r.generatorSDKInfo=t.sdkInfo),r.lcut=t.time,r}_getDetailedStoreResult(e,t){let r=null;return e&&(r=e[t]?e[t]:e[(0,i._DJB2)(t)]),{result:r,details:this._getDetails(null==r)}}_setWarningState(e,t){var r;const n=i.StableID.get(this._sdkKey);if((null===(r=e.customIDs)||void 0===r?void 0:r.stableID)===n){if("user"in t){const r=t.user;(0,i._getFullUserHash)(e)!==(0,i._getFullUserHash)(r)&&this._warnings.add("PartialUserMatch")}}else this._warnings.add("StableIDMismatch")}getCurrentSourceDetails(){if("Uninitialized"===this._source||"NoValues"===this._source)return{reason:this._source};const e={reason:this._source,lcut:this._lcut,receivedAt:this._receivedAt};return this._warnings.size>0&&(e.warnings=Array.from(this._warnings)),e}_getDetails(e){var t,r;const i=this.getCurrentSourceDetails();let n=i.reason;const s=null!==(t=i.warnings)&&void 0!==t?t:[];if("Bootstrap"===this._source&&s.length>0&&(n+=s[0]),"Uninitialized"!==n&&"NoValues"!==n){n=`${n}:${e?"Unrecognized":"Recognized"}`}const o="Bootstrap"===this._source&&null!==(r=this._bootstrapMetadata)&&void 0!==r?r:void 0;return o&&(i.bootstrapMetadata=o),Object.assign(Object.assign({},i),{reason:n})}}},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(11),s=r(58);class o extends n.NetworkCore{constructor(e,t){super(e,t);const r=null==e?void 0:e.networkConfig;this._initializeUrlConfig=new n.UrlConfiguration(n.Endpoint._initialize,null==r?void 0:r.initializeUrl,null==r?void 0:r.api,null==r?void 0:r.initializeFallbackUrls)}fetchEvaluations(e,t,r,s){return i(this,void 0,void 0,(function*(){const i=t?(0,n._typedJsonParse)(t,"has_updates","InitializeResponse"):null;let o={user:s,hash:"djb2",deltasResponseRequested:!1,full_checksum:null};return(null==i?void 0:i.has_updates)&&(o=Object.assign(Object.assign({},o),{sinceTime:i.time,previousDerivedFields:"derived_fields"in i?i.derived_fields:{},deltasResponseRequested:!0,full_checksum:i.full_checksum})),this._fetchEvaluations(e,i,o,r)}))}_fetchEvaluations(e,t,r,n){var o,a;return i(this,void 0,void 0,(function*(){const i=yield this.post({sdkKey:e,urlConfig:this._initializeUrlConfig,data:r,retries:2,isStatsigEncodable:!0,priority:n});if(204===(null==i?void 0:i.code))return'{"has_updates": false}';if(200!==(null==i?void 0:i.code))return null!==(o=null==i?void 0:i.body)&&void 0!==o?o:null;if(!0!==(null==t?void 0:t.has_updates)||!0!==(null===(a=i.body)||void 0===a?void 0:a.includes('"is_delta":true'))||!0!==r.deltasResponseRequested)return i.body;const l=(0,s._resolveDeltasResponse)(t,i.body);return"string"==typeof l?l:this._fetchEvaluations(e,t,Object.assign(Object.assign(Object.assign({},r),l),{deltasResponseRequested:!1}),n)}))}}t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._resolveDeltasResponse=void 0;const i=r(11);function n(e,t){null==e||e.forEach(e=>{delete t[e]})}t._resolveDeltasResponse=function(e,t){const r=(0,i._typedJsonParse)(t,"checksum","DeltasEvaluationResponse");if(!r)return{hadBadDeltaChecksum:!0};const s=function(e){const t=e;return n(e.deleted_gates,t.feature_gates),delete t.deleted_gates,n(e.deleted_configs,t.dynamic_configs),delete t.deleted_configs,n(e.deleted_layers,t.layer_configs),delete t.deleted_layers,t}(function(e,t){return Object.assign(Object.assign(Object.assign({},e),t),{feature_gates:Object.assign(Object.assign({},e.feature_gates),t.feature_gates),layer_configs:Object.assign(Object.assign({},e.layer_configs),t.layer_configs),dynamic_configs:Object.assign(Object.assign({},e.dynamic_configs),t.dynamic_configs)})}(e,r)),o=(0,i._DJB2Object)({feature_gates:s.feature_gates,dynamic_configs:s.dynamic_configs,layer_configs:s.layer_configs},2);return o===r.checksumV2?JSON.stringify(s):{hadBadDeltaChecksum:!0,badChecksum:o,badMergedConfigs:s,badFullResponse:r.deltas_full_response}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._makeParamStoreGetter=void 0;const i=r(11),n={disableExposureLog:!0};function s(e){return null==e||!1===e.disableExposureLog}function o(e,t){return null!=t&&!(0,i._isTypeMatch)(e,t)}t._makeParamStoreGetter=function(e,t,r){return(a,l)=>{if(null==t)return l;const u=t[a];if(null==u||null!=l&&(0,i._typeOf)(l)!==u.param_type)return l;switch(u.ref_type){case"static":return function(e,t){return e.value}(u);case"gate":return function(e,t,r){return e.getFeatureGate(t.gate_name,s(r)?void 0:n).value?t.pass_value:t.fail_value}(e,u,r);case"dynamic_config":return function(e,t,r,i){const a=e.getDynamicConfig(t.config_name,n).get(t.param_name);return o(a,r)?r:(s(i)&&e.getDynamicConfig(t.config_name),a)}(e,u,l,r);case"experiment":return function(e,t,r,i){const a=e.getExperiment(t.experiment_name,n).get(t.param_name);return o(a,r)?r:(s(i)&&e.getExperiment(t.experiment_name),a)}(e,u,l,r);case"layer":return function(e,t,r,i){const a=e.getLayer(t.layer_name,n).get(t.param_name);return o(a,r)?r:(s(i)&&e.getLayer(t.layer_name).get(t.param_name),a)}(e,u,l,r);default:return l}}}},function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigEvaluationsDataAdapter=void 0;const n=r(11),s=r(57);class o extends n.DataAdapterCore{constructor(){super("EvaluationsDataAdapter","evaluations"),this._network=null,this._options=null}attach(e,t){super.attach(e,t),this._network=new s.default(null!=t?t:{})}getDataAsync(e,t,r){return this._getDataAsyncImpl(e,(0,n._normalizeUser)(t,this._options),r)}prefetchData(e,t){return this._prefetchDataImpl(e,t)}setData(e){const t=(0,n._typedJsonParse)(e,"has_updates","data");t&&"user"in t?super.setData(e,t.user):n.Log.error("StatsigUser not found. You may be using an older server SDK version. Please upgrade your SDK or use setDataLegacy.")}setDataLegacy(e,t){super.setData(e,t)}_fetchFromNetwork(e,t,r){var n;return i(this,void 0,void 0,(function*(){const i=yield null===(n=this._network)||void 0===n?void 0:n.fetchEvaluations(this._getSdkKey(),e,null==r?void 0:r.priority,t);return null!=i?i:null}))}_getCacheKey(e){var t;const r=(0,n._getStorageKey)(this._getSdkKey(),e,null===(t=this._options)||void 0===t?void 0:t.customUserCacheKeyFunc);return`${n.DataAdapterCachePrefix}.${this._cacheSuffix}.${r}`}_isCachedResultValidFor204(e,t){return null!=e.fullUserHash&&e.fullUserHash===(0,n._getFullUserHash)(t)}}t.StatsigEvaluationsDataAdapter=o},function(e,t,r){"use strict";r.r(t);var i=r(62);r.d(t,"default",(function(){return i.default}))},function(e,t,r){"use strict";r.r(t),r.d(t,"ALL_FEATURE_VALUES",(function(){return l})),r.d(t,"default",(function(){return u}));var i=r(2),n=r.n(i),s=r(63);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){n()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const l="@all-features";class u{constructor(){n()(this,"eventToValue",new Map),this.emitter=new s.EventEmitter2}onGateUpdated(e,t,r,i){const n=r(e,a(a({},i),{},{fireGateExposure:!1}));void 0===this.eventToValue.get(t)&&this.eventToValue.set(t,n);const s=()=>{const n=r(e,a(a({},i),{},{fireGateExposure:!1}));this.eventToValue.get(t)!==n&&(this.eventToValue.set(t,n),t(n))};return this.emitter.on(e,s),()=>{this.emitter.off(e,s)}}onExperimentValueUpdated(e,t,r,i,n,s){const o=`${e}.${t}`,l=n(e,t,r,a(a({},s),{},{fireExperimentExposure:!1}));void 0===this.eventToValue.get(i)&&this.eventToValue.set(i,l);const u=()=>{const o=n(e,t,r,a(a({},s),{},{fireExperimentExposure:!1}));this.eventToValue.get(i)!==o&&(this.eventToValue.set(i,o),i(o))};return this.emitter.on(o,u),()=>{this.emitter.off(o,u)}}onAnyUpdated(e){return this.emitter.on(l,e),()=>{this.emitter.off(l,e)}}anyUpdated(){this.emitter.emit(l),this.emitter.eventNames().filter(e=>e!==l).forEach(e=>{this.emitter.emit(e)})}}},function(e,t,r){(function(i){var n;
/*!
 * EventEmitter2
 * https://github.com/hij1nx/EventEmitter2
 *
 * Copyright (c) 2013 hij1nx
 * Licensed under the MIT license.
 */!function(s){var o=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};function a(){this._events={},this._conf&&l.call(this,this._conf)}function l(e){e?(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),this._maxListeners=void 0!==e.maxListeners?e.maxListeners:10,e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this.newListener=e.newListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),this.wildcard&&(this.listenerTree={})):this._maxListeners=10}function u(e,t){var r="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(r+=" Event name: "+t+"."),void 0!==i&&i.emitWarning){var n=new Error(r);n.name="MaxListenersExceededWarning",n.emitter=this,n.count=e,i.emitWarning(n)}else console.error(r),console.trace&&console.trace()}function c(e){this._events={},this.newListener=!1,this.verboseMemoryLeak=!1,l.call(this,e)}function d(e,t,r,i){if(!r)return[];var n,s,o,a,l,u,c,h=[],f=t.length,g=t[i],_=t[i+1];if(i===f&&r._listeners){if("function"==typeof r._listeners)return e&&e.push(r._listeners),[r];for(n=0,s=r._listeners.length;n<s;n++)e&&e.push(r._listeners[n]);return[r]}if("*"===g||"**"===g||r[g]){if("*"===g){for(o in r)"_listeners"!==o&&r.hasOwnProperty(o)&&(h=h.concat(d(e,t,r[o],i+1)));return h}if("**"===g){for(o in(c=i+1===f||i+2===f&&"*"===_)&&r._listeners&&(h=h.concat(d(e,t,r,f))),r)"_listeners"!==o&&r.hasOwnProperty(o)&&("*"===o||"**"===o?(r[o]._listeners&&!c&&(h=h.concat(d(e,t,r[o],f))),h=h.concat(d(e,t,r[o],i))):h=o===_?h.concat(d(e,t,r[o],i+2)):h.concat(d(e,t,r[o],i)));return h}h=h.concat(d(e,t,r[g],i+1))}if((a=r["*"])&&d(e,t,a,i+1),l=r["**"])if(i<f)for(o in l._listeners&&d(e,t,l,f),l)"_listeners"!==o&&l.hasOwnProperty(o)&&(o===_?d(e,t,l[o],i+2):o===g?d(e,t,l[o],i+1):((u={})[o]=l[o],d(e,t,{"**":u},i+1)));else l._listeners?d(e,t,l,f):l["*"]&&l["*"]._listeners&&d(e,t,l["*"],f);return h}function h(e,t){for(var r=0,i=(e="string"==typeof e?e.split(this.delimiter):e.slice()).length;r+1<i;r++)if("**"===e[r]&&"**"===e[r+1])return;for(var n=this.listenerTree,s=e.shift();void 0!==s;){if(n[s]||(n[s]={}),n=n[s],0===e.length)return n._listeners?("function"==typeof n._listeners&&(n._listeners=[n._listeners]),n._listeners.push(t),!n._listeners.warned&&this._maxListeners>0&&n._listeners.length>this._maxListeners&&(n._listeners.warned=!0,u.call(this,n._listeners.length,s))):n._listeners=t,!0;s=e.shift()}return!0}c.EventEmitter2=c,c.prototype.delimiter=".",c.prototype.setMaxListeners=function(e){void 0!==e&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},c.prototype.event="",c.prototype.once=function(e,t){return this._once(e,t,!1)},c.prototype.prependOnceListener=function(e,t){return this._once(e,t,!0)},c.prototype._once=function(e,t,r){return this._many(e,1,t,r),this},c.prototype.many=function(e,t,r){return this._many(e,t,r,!1)},c.prototype.prependMany=function(e,t,r){return this._many(e,t,r,!0)},c.prototype._many=function(e,t,r,i){var n=this;if("function"!=typeof r)throw new Error("many only accepts instances of Function");function s(){return 0==--t&&n.off(e,s),r.apply(this,arguments)}return s._origin=r,this._on(e,s,i),n},c.prototype.emit=function(){this._events||a.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return!1;var t,r,i,n,s,o=arguments.length;if(this._all&&this._all.length){if(s=this._all.slice(),o>3)for(t=new Array(o),n=0;n<o;n++)t[n]=arguments[n];for(i=0,r=s.length;i<r;i++)switch(this.event=e,o){case 1:s[i].call(this,e);break;case 2:s[i].call(this,e,arguments[1]);break;case 3:s[i].call(this,e,arguments[1],arguments[2]);break;default:s[i].apply(this,t)}}if(this.wildcard){s=[];var l="string"==typeof e?e.split(this.delimiter):e.slice();d.call(this,s,l,this.listenerTree,0)}else{if("function"==typeof(s=this._events[e])){switch(this.event=e,o){case 1:s.call(this);break;case 2:s.call(this,arguments[1]);break;case 3:s.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(o-1),n=1;n<o;n++)t[n-1]=arguments[n];s.apply(this,t)}return!0}s&&(s=s.slice())}if(s&&s.length){if(o>3)for(t=new Array(o-1),n=1;n<o;n++)t[n-1]=arguments[n];for(i=0,r=s.length;i<r;i++)switch(this.event=e,o){case 1:s[i].call(this);break;case 2:s[i].call(this,arguments[1]);break;case 3:s[i].call(this,arguments[1],arguments[2]);break;default:s[i].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},c.prototype.emitAsync=function(){this._events||a.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,r,i,n,s,o=[],l=arguments.length;if(this._all){if(l>3)for(t=new Array(l),n=1;n<l;n++)t[n]=arguments[n];for(i=0,r=this._all.length;i<r;i++)switch(this.event=e,l){case 1:o.push(this._all[i].call(this,e));break;case 2:o.push(this._all[i].call(this,e,arguments[1]));break;case 3:o.push(this._all[i].call(this,e,arguments[1],arguments[2]));break;default:o.push(this._all[i].apply(this,t))}}if(this.wildcard){s=[];var u="string"==typeof e?e.split(this.delimiter):e.slice();d.call(this,s,u,this.listenerTree,0)}else s=this._events[e];if("function"==typeof s)switch(this.event=e,l){case 1:o.push(s.call(this));break;case 2:o.push(s.call(this,arguments[1]));break;case 3:o.push(s.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(l-1),n=1;n<l;n++)t[n-1]=arguments[n];o.push(s.apply(this,t))}else if(s&&s.length){if(s=s.slice(),l>3)for(t=new Array(l-1),n=1;n<l;n++)t[n-1]=arguments[n];for(i=0,r=s.length;i<r;i++)switch(this.event=e,l){case 1:o.push(s[i].call(this));break;case 2:o.push(s[i].call(this,arguments[1]));break;case 3:o.push(s[i].call(this,arguments[1],arguments[2]));break;default:o.push(s[i].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(o)},c.prototype.on=function(e,t){return this._on(e,t,!1)},c.prototype.prependListener=function(e,t){return this._on(e,t,!0)},c.prototype.onAny=function(e){return this._onAny(e,!1)},c.prototype.prependAny=function(e){return this._onAny(e,!0)},c.prototype.addListener=c.prototype.on,c.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},c.prototype._on=function(e,t,r){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||a.call(this),this.emit("newListener",e,t),this.wildcard?(h.call(this,e,t),this):(this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),r?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,u.call(this,this._events[e].length,e))):this._events[e]=t,this)},c.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var r,i=[];if(this.wildcard){var n="string"==typeof e?e.split(this.delimiter):e.slice();i=d.call(this,null,n,this.listenerTree,0)}else{if(!this._events[e])return this;r=this._events[e],i.push({_listeners:r})}for(var s=0;s<i.length;s++){var a=i[s];if(r=a._listeners,o(r)){for(var l=-1,u=0,c=r.length;u<c;u++)if(r[u]===t||r[u].listener&&r[u].listener===t||r[u]._origin&&r[u]._origin===t){l=u;break}if(l<0)continue;return this.wildcard?a._listeners.splice(l,1):this._events[e].splice(l,1),0===r.length&&(this.wildcard?delete a._listeners:delete this._events[e]),this.emit("removeListener",e,t),this}(r===t||r.listener&&r.listener===t||r._origin&&r._origin===t)&&(this.wildcard?delete a._listeners:delete this._events[e],this.emit("removeListener",e,t))}return function e(t){if(void 0!==t){var r=Object.keys(t);for(var i in r){var n=r[i],s=t[n];s instanceof Function||"object"!=typeof s||null===s||(Object.keys(s).length>0&&e(t[n]),0===Object.keys(s).length&&delete t[n])}}}(this.listenerTree),this},c.prototype.offAny=function(e){var t,r=0,i=0;if(e&&this._all&&this._all.length>0){for(r=0,i=(t=this._all).length;r<i;r++)if(e===t[r])return t.splice(r,1),this.emit("removeListenerAny",e),this}else{for(r=0,i=(t=this._all).length;r<i;r++)this.emit("removeListenerAny",t[r]);this._all=[]}return this},c.prototype.removeListener=c.prototype.off,c.prototype.removeAllListeners=function(e){if(0===arguments.length)return!this._events||a.call(this),this;if(this.wildcard)for(var t="string"==typeof e?e.split(this.delimiter):e.slice(),r=d.call(this,null,t,this.listenerTree,0),i=0;i<r.length;i++){var n=r[i];n._listeners=null}else this._events&&(this._events[e]=null);return this},c.prototype.listeners=function(e){if(this.wildcard){var t=[],r="string"==typeof e?e.split(this.delimiter):e.slice();return d.call(this,t,r,this.listenerTree,0),t}return this._events||a.call(this),this._events[e]||(this._events[e]=[]),o(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},c.prototype.eventNames=function(){return Object.keys(this._events)},c.prototype.listenerCount=function(e){return this.listeners(e).length},c.prototype.listenersAny=function(){return this._all?this._all:[]},void 0===(n=function(){return c}.call(t,r,t,e))||(e.exports=n)}()}).call(this,r(22))},function(e,t,r){"use strict";r.r(t),r.d(t,"DynamicConfig",(function(){return n}));var i=r(65);class n{static fromExperiment(e){var t,r;const s=new n(e.name,e.value,e.ruleID,Object(i.migrateEvaluationDetails)(e.details),null===(t=e.__evaluation)||void 0===t?void 0:t.secondary_exposures,null!==(r=e.groupName)&&void 0!==r?r:void 0);return s.experiment=e,s}constructor(e,t,r,i,n=[],s="",o=null){this.value=t,this._name=e,this._ruleID=r,this._secondaryExposures=n,this._allocatedExperimentName=s,this._evaluationDetails=i,this._onDefaultValueFallback=o}get(e,t,r){var i;const n=this.getValue(e,t);if(null==n)return t;const s=Array.isArray(t)?"array":typeof t,o=Array.isArray(n)?"array":typeof n;var a;return r?r(n)?(this.fireExposure(e),n):(null===(a=this._onDefaultValueFallback)||void 0===a||a.call(this,this,e,s,o),t):null==t||s===o?(this.fireExposure(e),n):(null===(i=this._onDefaultValueFallback)||void 0===i||i.call(this,this,e,s,o),t)}getValue(e,t){return null==e?this.value:(null==t&&(t=null),null==this.value[e]?t:(this.fireExposure(e),this.value[e]))}fireExposure(e){this.experiment&&this.experiment.get(e)}}},function(e,t,r){"use strict";r.r(t),r.d(t,"getOptionsWithDefaults",(function(){return g})),r.d(t,"shallowEquals",(function(){return _})),r.d(t,"toStatsigUser",(function(){return p})),r.d(t,"migrateInitializationOptions",(function(){return v})),r.d(t,"migrateEvaluationDetails",(function(){return y}));var i=r(7),n=r.n(i),s=r(2),o=r.n(s),a=r(9),l=r(66),u=r(78),c=r(79);const d=["api","disableCurrentPageLogging","loggingIntervalMillis","loggingBufferMaxSize","localMode","eventLoggingApi","eventLoggingApiForRetries","disableLocalStorage","ignoreWindowUndefined","disableAllLogging","initTimeoutMs","disableNetworkKeepalive","overrideStableID","disableErrorLogging","disableAutoMetricsLogging"];function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const g=e=>f({perimeter:Object(l.isFedRamp)()?c.PerimeterType.FEDRAMP_MODERATE:c.PerimeterType.COMMERCIAL},e),_=(e,t)=>{if(!e&&!t)return!0;if(!e||!t)return!1;const r=Object.entries(e),i=Object.entries(t);if(r.length!==i.length)return!1;const n=([e],[t])=>e.localeCompare(t);r.sort(n),i.sort(n);for(let e=0;e<r.length;e++){const[,t]=r[e],[,n]=i[e];if(t!==n)return!1}return!0},p=(e,t,r)=>{const i={customIDs:null!=t&&t.stableID||!r?e:f({stableID:a.StableID.get(r)},e),custom:t};return e.atlassianAccountId&&(i.userID=e.atlassianAccountId),i},v=e=>{const{api:t,disableCurrentPageLogging:r,loggingIntervalMillis:i,loggingBufferMaxSize:s,localMode:o,eventLoggingApi:a,eventLoggingApiForRetries:l,disableLocalStorage:u,ignoreWindowUndefined:c,disableAllLogging:h,initTimeoutMs:g,disableNetworkKeepalive:_,overrideStableID:p,disableErrorLogging:v,disableAutoMetricsLogging:m}=e;return f(f({},n()(e,d)),{},{networkConfig:{api:t,logEventUrl:a?a+"rgstr":void 0,logEventFallbackUrls:l?[l]:void 0,preventAllNetworkTraffic:o||!c&&"undefined"==typeof window},includeCurrentPageUrlWithEvents:!r,loggingIntervalMs:i,loggingBufferMaxSize:s,disableStorage:void 0===u?o:u,disableLogging:void 0===h?o:h})},m=Object.entries(u.EvaluationReason).map(([e,t])=>[e.toLowerCase(),t]),y=e=>{var t,r,i;const n=e.reason.toLowerCase();return{reason:null!==(t=null===(r=m.find(([e])=>n.includes(e)))||void 0===r?void 0:r[1])&&void 0!==t?t:u.EvaluationReason.Unknown,time:null!==(i=e.receivedAt)&&void 0!==i?i:Date.now()}}},function(e,t,r){"use strict";r.r(t);var i=r(67);r.d(t,"isFedRamp",(function(){return i.isFedRamp}));var n=r(69);r.d(t,"getATLContextUrl",(function(){return n.getATLContextUrl})),r.d(t,"getATLContextDomain",(function(){return n.getATLContextDomain}))},function(e,t,r){"use strict";r.r(t),r.d(t,"isFedRamp",(function(){return n}));var i=r(68);function n(){var e,t=globalThis,r=t.MICROS_PERIMETER||t.UNSAFE_ATL_CONTEXT_BOUNDARY;if(r)return r===i.FEDRAMP_MODERATE;var n=null===(e=t.location)||void 0===e||null===(e=e.hostname)||void 0===e?void 0:e.match(/atlassian-us-gov-mod\.(com|net)|atlassian-us-gov\.(com|net)|atlassian-fex\.(com|net)|atlassian-stg-fedm\.(com|net)/);return!!n&&n.length>0}},function(e,t,r){"use strict";r.r(t),r.d(t,"FEDRAMP_MODERATE",(function(){return i})),r.d(t,"COMMERCIAL",(function(){return n})),r.d(t,"FEDRAMP_FEDEX",(function(){return s})),r.d(t,"STAGING",(function(){return o})),r.d(t,"PRODUCTION",(function(){return a})),r.d(t,"DEV",(function(){return l}));var i="fedramp-moderate",n="commercial",s="fedramp-fedex",o="stg",a="prod",l="dev"},function(e,t,r){"use strict";r.r(t),r.d(t,"configure",(function(){return l})),r.d(t,"getATLContextDomain",(function(){return u})),r.d(t,"getATLContextUrl",(function(){return c})),r.d(t,"_getEnvironmentFromDomain",(function(){return d}));var i=r(70),n=r.n(i),s=r(68),o=r(76),a=r(77);function l(e){if(!e||Object.keys(e).length<1)throw new Error("Data are not available");globalThis.ATL_CONTEXT_DOMAIN=e}function u(e,t){var r,i,l,u;if(u=e,!a.AllowedDomains.includes(u))throw new Error("Domain ".concat(e," is not supported.\n      Supported domains: ").concat(a.AllowedDomains.join(", ")));var c=globalThis.ATL_CONTEXT_DOMAIN;if(c)return c[e];var h,f,g=null!=t?t:d(),_=n()(g,2),p=_[0],v=_[1],m=o.fullDomainOverride[e];if(m)return null!==(h=null===(f=m[v])||void 0===f?void 0:f[p])&&void 0!==h?h:m[s.COMMERCIAL][s.PRODUCTION];var y=null!==(r=null===(i=o.domainMap[v])||void 0===i?void 0:i[p])&&void 0!==r?r:o.domainMap[s.COMMERCIAL][s.PRODUCTION],b=null!==(l=o.subdomainOverride[e])&&void 0!==l?l:e;return"".concat(b,".").concat(y)}function c(e){return"".concat(globalThis.location.protocol,"//").concat(u(e))}function d(){var e,t=null===(e=globalThis.location)||void 0===e?void 0:e.hostname;return t?t.match(/atlassian-fex\.com/)?[s.STAGING,s.FEDRAMP_FEDEX]:t.match(/stg\.atlassian-us-gov-mod\.(com|net)/)||t.match(/atlassian-stg-fedm\.net/)?[s.STAGING,s.FEDRAMP_MODERATE]:t.match(/atlassian-us-gov-mod\.(com|net)/)?[s.PRODUCTION,s.FEDRAMP_MODERATE]:t.match(/stg(\.internal)?\.atlassian\.com/)||t.match(/jira-dev\.com/)?[s.STAGING,s.COMMERCIAL]:[s.PRODUCTION,s.COMMERCIAL]:[s.PRODUCTION,s.COMMERCIAL]}},function(e,t,r){var i=r(71),n=r(72),s=r(73),o=r(75);e.exports=function(e,t){return i(e)||n(e,t)||s(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var i,n,s,o,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(i=s.call(r)).done)&&(a.push(i.value),a.length!==t);l=!0);}catch(e){u=!0,n=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw n}}return a}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var i=r(74);e.exports=function(e,t){if(e){if("string"==typeof e)return i(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=Array(t);r<t;r++)i[r]=e[r];return i},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";r.r(t),r.d(t,"domainMap",(function(){return o})),r.d(t,"subdomainOverride",(function(){return a})),r.d(t,"fullDomainOverride",(function(){return l}));var i=r(2),n=r.n(i),s=r(68),o=n()(n()(n()({},s.COMMERCIAL,n()(n()({},s.STAGING,"stg.atlassian.com"),s.PRODUCTION,"atlassian.com")),s.FEDRAMP_FEDEX,n()({},s.STAGING,"atlassian-fex.com")),s.FEDRAMP_MODERATE,n()(n()({},s.STAGING,"stg.atlassian-us-gov-mod.com"),s.PRODUCTION,"atlassian-us-gov-mod.com")),a={},l={analytics:n()({},s.COMMERCIAL,n()({},s.PRODUCTION,"analytics.atlassian.com")),confluence:n()({},s.COMMERCIAL,n()({},s.PRODUCTION,"confluence.atlassian.com")),design:n()({},s.COMMERCIAL,n()({},s.PRODUCTION,"design.atlassian.com")),extranet:n()({},s.COMMERCIAL,n()({},s.PRODUCTION,"extranet.atlassian.com")),go:n()({},s.COMMERCIAL,n()({},s.PRODUCTION,"go.atlassian.com")),my:n()({},s.COMMERCIAL,n()({},s.PRODUCTION,"my.atlassian.com")),schema:n()({},s.COMMERCIAL,n()({},s.PRODUCTION,"schema.atlassian.com")),start:n()(n()({},s.COMMERCIAL,n()(n()({},s.PRODUCTION,"start.atlassian.com"),s.STAGING,"start.stg.atlassian.com")),s.FEDRAMP_MODERATE,n()(n()({},s.PRODUCTION,"start.atlassian-us-gov-mod.com"),s.STAGING,"start.stg.atlassian-us-gov-mod.com")),surveys:n()({},s.COMMERCIAL,n()({},s.PRODUCTION,"surveys.atlassian.com")),"wac-cdn":n()({},s.COMMERCIAL,n()({},s.PRODUCTION,"wac-cdn.atlassian.com")),integrations:n()({},s.COMMERCIAL,n()({},s.PRODUCTION,"integrations.atlassian.com")),permalink:n()({},s.COMMERCIAL,n()({},s.PRODUCTION,"permalink.atlassian.com")),id:n()(n()({},s.COMMERCIAL,n()(n()(n()({},s.PRODUCTION,"id.atlassian.com"),s.STAGING,"id.stg.internal.atlassian.com"),s.DEV,"id.dev.internal.atlassian.com")),s.FEDRAMP_MODERATE,n()(n()({},s.PRODUCTION,"id.atlassian-us-gov-mod.com"),s.STAGING,"id.stg.atlassian-us-gov-mod.com")),support:n()({},s.COMMERCIAL,n()({},s.PRODUCTION,"support.atlassian.com"))}},function(e,t,r){"use strict";r.r(t),r.d(t,"AllowedDomains",(function(){return i}));var i=["admin","analytics","api","api.media","api-private","as","atl-global","atlaskit","auth","automation","cassi.internal","cc-import-sources.services","confluence","confluence-chats-integr.services","confluence-cloud-bamboo.internal","confluence-questions.services","data-portal.internal","design","developer","extranet","go","id","id-mail-assets","integrations","ja","jira","jsd-widget","jsd-widget-staging","marketplace","my","my-reminders.services","partners","permalink","permalink.stg","schema","start","support","surveys","team","wac-cdn","xxid","home"]},function(e,t,r){"use strict";r.r(t),r.d(t,"EvaluationReason",(function(){return i}));let i=function(e){return e.Error="Error",e.LocalOverride="LocalOverride",e.Unrecognized="Unrecognized",e.Uninitialized="Uninitialized",e.NetworkNotModified="NetworkNotModified",e.Network="Network",e.InvalidBootstrap="InvalidBootstrap",e.Bootstrap="Bootstrap",e.Cache="Cache",e.Unknown="Unknown",e}({})},function(e,t,r){"use strict";r.r(t),r.d(t,"FeatureGateEnvironment",(function(){return i})),r.d(t,"PerimeterType",(function(){return n})),r.d(t,"NON_BOOLEAN_VALUE",(function(){return s}));let i=function(e){return e.Development="development",e.Staging="staging",e.Production="production",e}({}),n=function(e){return e.COMMERCIAL="commercial",e.FEDRAMP_MODERATE="fedramp-moderate",e}({});const s="non_boolean"},function(e,t,r){"use strict";r.r(t),r.d(t,"Layer",(function(){return n}));var i=r(65);class n{static fromLayer(e){var t,r,s,o;return new n(e.name,e.__value,e.ruleID,Object(i.migrateEvaluationDetails)(e.details),(t,r)=>e.get(r),null===(t=e.__evaluation)||void 0===t?void 0:t.secondary_exposures,null===(r=e.__evaluation)||void 0===r?void 0:r.undelegated_secondary_exposures,null===(s=e.__evaluation)||void 0===s?void 0:s.allocated_experiment_name,null===(o=e.__evaluation)||void 0===o?void 0:o.explicit_parameters)}constructor(e,t,r,i,n=null,s=[],o=[],a="",l=[]){this._logParameterFunction=n,this._name=e,this._value=JSON.parse(JSON.stringify(null!=t?t:{})),this._ruleID=null!=r?r:"",this._evaluationDetails=i,this._secondaryExposures=s,this._undelegatedSecondaryExposures=o,this._allocatedExperimentName=a,this._explicitParameters=l}get(e,t,r){const i=this._value[e];if(null==i)return t;const n=()=>(this._logLayerParameterExposure(e),i);return r?r(i)?n():t:null==t||typeof i==typeof t&&Array.isArray(t)===Array.isArray(i)?n():t}getValue(e,t){null==t&&(t=null);const r=this._value[e];return null!=r&&this._logLayerParameterExposure(e),null!=r?r:t}_logLayerParameterExposure(e){var t;null===(t=this._logParameterFunction)||void 0===t||t.call(this,this,e)}}},function(e,t,r){"use strict";r.r(t);var i=r(82);r.d(t,"default",(function(){return i.default}))},function(e,t,r){"use strict";r.r(t),r.d(t,"PROD_BASE_URL",(function(){return u})),r.d(t,"STAGING_BASE_URL",(function(){return c})),r.d(t,"DEV_BASE_URL",(function(){return d})),r.d(t,"FEDM_STAGING_BASE_URL",(function(){return h})),r.d(t,"FEDM_PROD_BASE_URL",(function(){return f})),r.d(t,"GATEWAY_BASE_URL",(function(){return g})),r.d(t,"default",(function(){return _}));var i=r(2),n=r.n(i),s=r(79),o=r(83),a=r(84);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}const u="https://api.atlassian.com/flags",c="https://api.stg.atlassian.com/flags",d="https://api.dev.atlassian.com/flags",h="https://api.stg.atlassian-us-gov-mod.com/flags",f="https://api.atlassian-us-gov-mod.com/flags",g="/gateway/api/flags";class _{static async fetchClientSdk(e){const{targetApp:t}=e,r="/api/v2/frontend/clientSdkKey/"+t;try{return await this.fetchRequest(r,"GET",e)}catch(e){if(e instanceof Error)throw e;throw Error("Failed to retrieve client sdk key")}}static async fetchExperimentValues(e,t,r){const i={identifiers:t,customAttributes:r,targetApp:e.targetApp};try{return await this.fetchRequest("/api/v2/frontend/experimentValues","POST",e,i)}catch(e){if(e instanceof Error)throw e;throw Error("Failed to retrieve experiment values")}}static async handleResponseError(e){if(!e.ok){const t=await e.text();throw new a.ResponseError(`Non 2xx response status received, status: ${e.status}, body: ${JSON.stringify(t)}`)}if(204===e.status)throw new a.ResponseError("Unexpected 204 response")}static async extractResponseBody(e){const t=await e.text();return JSON.parse(t)}static getBaseUrl(e,t=!1,r){if(t)return g;if(r===s.PerimeterType.FEDRAMP_MODERATE)switch(e){case s.FeatureGateEnvironment.Production:return f;case s.FeatureGateEnvironment.Staging:return h;default:throw new Error(`Invalid environment "${e}" for "${r}" perimeter`)}else{if(r!==s.PerimeterType.COMMERCIAL)throw new Error(`Invalid perimeter "${r}"`);switch(e){case s.FeatureGateEnvironment.Development:return d;case s.FeatureGateEnvironment.Staging:return c;default:return u}}}static async fetchRequest(e,t,r,i){const s=_.getBaseUrl(r.environment,r.useGatewayURL,r.perimeter),a=r.fetchTimeoutMs||5e3;let u;if(AbortSignal.timeout)u=AbortSignal.timeout(a);else if(AbortController){const e=new AbortController;u=e.signal,setTimeout(()=>e.abort(),a)}const c=await fetch(`${s}${e}`,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){n()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({method:t,headers:{"Content-Type":"application/json","X-Client-Name":"feature-gate-js-client","X-Client-Version":o.CLIENT_VERSION,"X-API-KEY":r.apiKey},signal:u},i&&{body:JSON.stringify(i)}));return await this.handleResponseError(c),await this.extractResponseBody(c)}}},function(e,t,r){"use strict";r.r(t),r.d(t,"CLIENT_VERSION",(function(){return i}));const i="4.26.5"},function(e,t,r){"use strict";r.r(t),r.d(t,"ResponseError",(function(){return i}));class i extends Error{constructor(e){super(e)}}},function(e,t,r){"use strict";r.r(t),r.d(t,"NoFetchDataAdapter",(function(){return l}));var i=r(2),n=r.n(i),s=r(9);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){n()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}class l extends s.DataAdapterCore{constructor(){super("NoFetchDataAdapter","nofetch"),n()(this,"bootstrapResult",null)}setBootstrapData(e){this.bootstrapResult=e?{source:"Bootstrap",data:JSON.stringify(e),receivedAt:Date.now(),stableID:s.StableID.get(this._getSdkKey()),fullUserHash:null}:null}async prefetchData(e,t){}async getDataAsync(e,t,r){return this.bootstrapResult&&a(a({},this.bootstrapResult),{},{fullUserHash:Object(s._getFullUserHash)(t)})}getDataSync(e){return this.bootstrapResult&&a(a({},this.bootstrapResult),{},{fullUserHash:Object(s._getFullUserHash)(e)})}async _fetchFromNetwork(e,t,r){return null}_getCacheKey(e){const t=Object(s._getStorageKey)(this._getSdkKey(),e);return`${s.DataAdapterCachePrefix}.${this._cacheSuffix}.${t}`}_isCachedResultValidFor204(e,t){return!1}setDataLegacy(e,t){super.setData(e,t)}toJSON(){const e=a({},this);return delete e._options,delete e._inMemoryCache,delete e.bootstrapResult,e}}},function(e,t,r){"use strict";r.r(t),r.d(t,"LOCAL_STORAGE_KEY",(function(){return l})),r.d(t,"PersistentOverrideAdapter",(function(){return c}));var i=r(2),n=r.n(i),s=r(11);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){n()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const l="STATSIG_OVERRIDES",u=(e,t)=>t+":"+e;class c{constructor(e){this._overrides={gates:{},configs:{},layers:{}},this._djb2Map=new Map,this._localStorageKey=e}parseStoredOverrides(e){try{const t=window.localStorage.getItem(e);return t?JSON.parse(t):{gates:{},configs:{},layers:{}}}catch(e){return{gates:{},configs:{},layers:{}}}}mergeOverrides(...e){const t={gates:{},configs:{},layers:{}};for(const s of e){for(const[e,i]of Object.entries(null!==(r=s.gates)&&void 0!==r?r:{})){var r;t.gates[e]=i}for(const[e,r]of Object.entries(null!==(i=s.configs)&&void 0!==i?i:{})){var i;t.configs[e]=r}for(const[e,r]of Object.entries(null!==(n=s.layers)&&void 0!==n?n:{})){var n;t.layers[e]=r}}return t}initFromStoredOverrides(){const e=this.mergeOverrides(this._overrides,this.parseStoredOverrides("STATSIG_JS_LITE_LOCAL_OVERRIDES"),this.parseStoredOverrides(this._localStorageKey));try{window.localStorage.removeItem("STATSIG_JS_LITE_LOCAL_OVERRIDES")}catch(e){}for(const t of Object.values(e)){const e=new Set(Object.keys(t));for(const r of e){const i=Object(s._DJB2)(r);e.has(i)&&delete t[i]}}this.applyOverrides(e)}saveOverrides(){try{window.localStorage.setItem(this._localStorageKey,JSON.stringify(this._overrides))}catch(e){}}getOverrides(){return this.mergeOverrides(this._overrides)}applyOverrides(e){const t=a(a({},{gates:{},configs:{},layers:{}}),e);this._djb2Map.clear();for(const[e,r]of Object.entries(t))for(const[t,i]of Object.entries(r))this._djb2Map.set(u(Object(s._DJB2)(t),e),i);this._overrides=t}setOverrides(e){this.applyOverrides(e),this.saveOverrides()}overrideGate(e,t){this._overrides.gates[e]=t,this._djb2Map.set(u(Object(s._DJB2)(e),"gates"),t),this.saveOverrides()}removeGateOverride(e){delete this._overrides.gates[e],this._djb2Map.delete(u(Object(s._DJB2)(e),"gates")),this.saveOverrides()}getGateOverride(e,t){var r;const i=null!==(r=this._overrides.gates[e.name])&&void 0!==r?r:this._djb2Map.get(u(e.name,"gates"));return null==i?null:a(a({},e),{},{value:i,details:a(a({},e.details),{},{reason:"LocalOverride:Recognized"})})}overrideDynamicConfig(e,t){this._overrides.configs[e]=t,this._djb2Map.set(u(Object(s._DJB2)(e),"configs"),t),this.saveOverrides()}removeDynamicConfigOverride(e){delete this._overrides.configs[e],this._djb2Map.delete(u(Object(s._DJB2)(e),"configs")),this.saveOverrides()}getDynamicConfigOverride(e,t){return this._getConfigOverride(e,this._overrides.configs)}overrideExperiment(e,t){this._overrides.configs[e]=t,this._djb2Map.set(u(Object(s._DJB2)(e),"configs"),t),this.saveOverrides()}removeExperimentOverride(e){delete this._overrides.configs[e],this._djb2Map.delete(u(Object(s._DJB2)(e),"configs")),this.saveOverrides()}getExperimentOverride(e,t){return this._getConfigOverride(e,this._overrides.configs)}overrideLayer(e,t){this._overrides.layers[e]=t,this._djb2Map.set(u(Object(s._DJB2)(e),"layers"),t),this.saveOverrides()}removeLayerOverride(e){delete this._overrides.layers[e],this._djb2Map.delete(u(Object(s._DJB2)(e),"layers")),this.saveOverrides()}removeAllOverrides(){this._overrides={gates:{},configs:{},layers:{}};try{window.localStorage.removeItem(this._localStorageKey)}catch(e){}}getLayerOverride(e,t){var r;const i=null!==(r=this._overrides.layers[e.name])&&void 0!==r?r:this._djb2Map.get(u(e.name,"layers"));return null==i?null:a(a({},e),{},{__value:i,get:Object(s._makeTypedGet)(e.name,i),details:a(a({},e.details),{},{reason:"LocalOverride:Recognized"})})}_getConfigOverride(e,t){var r;const i=null!==(r=t[e.name])&&void 0!==r?r:this._djb2Map.get(u(e.name,"configs"));return null==i?null:a(a({},e),{},{value:i,get:Object(s._makeTypedGet)(e.name,i),details:a(a({},e.details),{},{reason:"LocalOverride:Recognized"})})}}}])}));}(globalRequire.define));