var ace=ace||{},ace=(ace.analytics=ace.analytics||{},ace.analytics.Metrics=(()=>{var i={};return{logMetric:function(e,t){i[e]=t||new Date},sendMetrics:function(e){if(ace.analytics.Metrics.loadTimestamp){for(var t in i)i.hasOwnProperty(t)&&0<i[t]&&(i[t]=i[t]-ace.analytics.Metrics.loadTimestamp);var n=ace.analytics.Cohort.readAtlCohort(),n={event:"metrics",eventComponent:"atlGlobal",metrics:i,atlJSVersion:ace.analytics.version,cohort:n?n.bucketAll.index:null,host:e?e.hostFake:window.location.host,path:e?e.pathFake:window.location.pathname,pageViewId:ace.analytics.Tracking.getPageViewId()};ace.analytics.GASv3.sendUIEvent("",n,!0),i={}}},resetMetrics:function(){i={}},METRICS_KEYS:{TIME_TO_LOAD:"timeToLoad",TIME_TO_SEGMENT_LOAD:"timeToSegmentLoad",TIME_TO_AVAILABLE:"timeToAvailable",TIME_TO_READY:"timeToReady",TIME_TO_START_LOAD_XID:"timeToStartLoadXID",TIME_TO_START_GET_XID:"timeToStartGetXID",TIME_TO_LOAD_XID:"timeToLoadXID"}}})(),ace||{}),ace=(ace.mkt=ace.mkt||{},ace.mkt.Cookie={getCookieUrl:function(e,t){return null!==(e=ace.mkt.Cookie.readCookie(e))?e:t},readCookie:function(t){try{for(var e=t+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var r=n[i];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(e))return r.substring(e.length,r.length)}}catch(e){ace.mkt.Helpers.sendWrapperLoadError("Error reading Cookie - "+t)}return null},writeCookie:function(e,t,n,i){ace.mkt.Cookie.writeCookieInSeconds(e,t,n?24*n*60*60:null,i)},writeCookieInSeconds:function(t,e,n,i){try{var r,a,o,s,c="",l=(n&&((r=new Date).setTime(r.getTime()+1e3*n),c="; expires="+r.toGMTString()),t+"="+e+c+"; path=/;"),u=window.location.hostname;"localhost"!==u&&!0===i&&(l+=" domain="+(u=1<(a=u.split(".")).length&&(o=a[a.length-1],s=a[a.length-2],isNaN(o)||isNaN(s))?"."+s+"."+o:u)+";"),document.cookie=l}catch(e){ace.mkt.Helpers.sendWrapperLoadError("Error writing cookie - "+t)}}},ace||{}),ace=(ace.mkt=ace.mkt||{},ace.mkt.Guid=function(){var e,t;return e=this,t=function(){var a="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),o=new Uint8Array(16);for(var s=[],e=0;e<256;++e)s.push((e+256).toString(16).substr(1));return function(e,t,n){var i=(e=e||{}).random||(e.rng||function(){if(a)return a(o);throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported")})();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(var r=0;r<16;++r)t[n+r]=i[r];return t}return(s[i[0]]+s[i[1]]+s[i[2]]+s[i[3]]+"-"+s[i[4]]+s[i[5]]+"-"+s[i[6]]+s[i[7]]+"-"+s[i[8]]+s[i[9]]+"-"+s[i[10]]+s[i[11]]+s[i[12]]+s[i[13]]+s[i[14]]+s[i[15]]).toLowerCase()}},"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).uuidv4=t(),{guid:function(){try{return uuidv4()}catch(e){return ace.mkt.Helpers.sendWrapperLoadError("Error getting uuidV4"),Math.guid()}},guidNoDashes:function(){return uuidv4().replace(/-/g,"")},addNumberToGUID:function(e,t){var n,i=e.slice(-4),r=parseInt(i,16);return isNaN(r)?e:(n=r.toString(16).length,65535<(r+=t)?r-=65536:r<0&&(r+=65536),(i=r.toString(16)).length<n&&(i=("00000"+i).slice(-n)),e.slice(0,e.length-i.length)+i)},guidHashCode:function(e){for(var t=0,n=0;n<e.length;n++)t=(t+=Math.pow(31*e.charCodeAt(n),e.length-n))&t;return Math.abs(t)}}}(),ace||{}),ace=(ace.mkt=ace.mkt||{},ace.mkt.Gups=(()=>{function t(e,t,n){var i=ace.mkt.Helpers.getEnvironment()===ace.mkt.Helpers.ENVIRONMENT.PROD?"https://www.atlassian.com/gateway/api/graphql":"https://wac.stg.internal.atlassian.com/gateway/api/graphql";ace.mkt.Helpers.makeRestRequest("POST",i,e,t,!1,n)}return{getMarketingContext:function(e,r,a,o,s){e=JSON.stringify({query:`query getUnifiedProfile($anonymousId: ID) {
            growthUnifiedProfile_getUnifiedProfile(
                anonymousId: $anonymousId
            ){
                marketingContext {
                    sessionId, 
                    domain,
                    lastUpdated,
                    utm {
                        sfdcCampaignId,
                        medium,
                        source,
                        campaign,
                        content
                    }
                }
            }
        }`,variables:{anonymousId:e}});try{t([{header:"Content-type",value:"application/json"},{header:"x-use-case",value:"voltron-marketing-context"}],e,function(t){if("error"===t)console.error("Failed request to retrieve marketingContext from GUPS");else{let e;try{e=JSON.parse(t)}catch(e){console.error("Failed to parse marketing context from GUPS with error:",e)}var n,i,t=e.data.growthUnifiedProfile_getUnifiedProfile.marketingContext;t&&(i=a===t.domain&&r===t.sessionId,n=a!==t.domain&&r&&Number(r)-Number(o)<36e5),i||n?(i?localStorage.setItem("marketingContext",JSON.stringify(t)):n&&localStorage.setItem("marketingContext",JSON.stringify({sessionId:r,domain:a,lastUpdated:r,utm:t.utm})),i=t.utm,ace.analytics.utms={"utm_sfdc-campaign_id":i.sfdcCampaignId,utm_campaign:i.campaign,utm_source:i.source,utm_medium:i.medium,utm_content:i.content}):(localStorage.setItem("marketingContext",s),ace.analytics.utms=null)}})}catch(e){console.error("Failed to retrieve marketingContext from GUPS with error:",e)}},setMarketingContext:function(e,n,i,r){e=`mutation SetMarketingContext {
            growthUnifiedProfile_createUnifiedProfile(profile: 
                { 
                    anonymousId: "${e}", 
                    unifiedProfile: { 
                        marketingContext : {
                            sessionId: "${n}",
                            domain: "${i}",
                            utm: {
                                sfdcCampaignId: "${r["utm_sfdc-campaign_id"]}"
                                source: "${r.utm_source}"
                                medium: "${r.utm_medium}"
                                content: "${r.utm_content}"
                                campaign: "${r.utm_campaign}"
                            }
                        }
                    } 
                }) {
                    marketingContext {
                        lastUpdated
                    }
                }
        }`,e=JSON.stringify({query:e});try{t([{header:"Content-type",value:"application/json"},{header:"x-use-case",value:"create-voltron-marketing-context"}],e,function(e){if("error"===e)console.error("Failed request to set marketingContext in GUPS");else try{var t=JSON.parse(e).data.growthUnifiedProfile_createUnifiedProfile.marketingContext.lastUpdated;localStorage.setItem("marketingContext",JSON.stringify({sessionId:n,domain:i,lastUpdated:t,utm:{sfdcCampaignId:r["utm_sfdc-campaign_id"],campaign:r.utm_campaign,source:r.utm_source,medium:r.utm_medium,content:r.utm_content}}))}catch(e){console.error("Failed to retrieve lastUpdated from GUPS with error:",e)}})}catch(e){console.error("Failed to set marketingContext in GUPS with error:",e)}}}})(),ace||{}),ace=(ace.mkt=ace.mkt||{},ace.mkt.Helpers=(()=>{var t=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/i,n="/path-contained-email-address",i={LOCAL:"local",DEV:"dev",STAGE:"stage",PROD:"prod"};function e(){try{var e,t,n="atl-global",i=".min.js",r=document.querySelector('script[src*="'+n+i+'"]');return r||(i=".js",r=document.querySelector('script[src*="'+n+i+'"]')),r?(t=r.src.indexOf(n+i),{source:r.src.substring(0,t),extension:i}):(e=window.location&&window.location.href||null,ace.mkt.Helpers.logEvent("OwkfO6MbQAZAEBuW9CxxAgyahOi8I51r","error","getScript returns default",{location:e}),{source:"https://atl-global.atlassian.com/js/",extension:".min.js"})}catch(e){return ace.mkt.Helpers.sendWrapperLoadError("Error getting Alt-global script"),null}}function c(e){if(-1===window.location.search.indexOf("utm_"))return null;for(var t in e)e.hasOwnProperty(t)&&(e[t]=ace.mkt.Helpers.getParameterByName(t));return e}function r(){var e,t=(()=>{for(var e,t=document.getElementsByTagName("link"),n=0;e=t[n];n++)if("canonical"===e.getAttribute("rel"))return e.getAttribute("href")})();return t||(-1===(e=(t=window.location.href).indexOf("#"))?t:t.slice(0,e))}function a(e){return decodeURIComponent(e).match(t)}function o(e){var t=document.createElement("a");return t.href=e,t.protocol+"//"+t.host}function s(e){return Number.isNaN(Number(e))||"string"!=typeof e||""===e.trim()?null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()):e=(Number(e)>Number.MAX_SAFE_INTEGER?BigInt:Number)(e),e}function l(e){var n={};if("string"==typeof e&&(e=e.trim().replace(/^[?#&]/,""))){for(var t=e.split("&"),i=0;i<t.length;i++){t[i]=t[i].replace(/\+/g," "),t[i]=t[i].replace(/\%2B/g," ");var r=t[i].indexOf("="),a=t[i],o=void 0;0<=r&&(a=t[i].slice(0,r),o=t[i].slice(r+1));try{o=void 0===o?null:decodeURIComponent(o),a=decodeURIComponent(a)}catch(e){ace.mkt.Helpers.sendWrapperLoadError("Error in decoding URI component")}n[a]=void 0===n[a]?o:[].concat(n[a],o)}Object.keys(n).forEach(function(e){var t=n[e];"object"==typeof t&&null!==t?Object.keys(t).forEach(function(e){t[e]=s(t[e])}):n[e]=s(t)})}return n}function u(){var e=ace.mkt.Cookie.readCookie("ajs_anonymous_id");return e||(e=ace.mkt.Guid.guid(),ace.mkt.Cookie.writeCookie("ajs_anonymous_id",encodeURIComponent('"'+e+'"')),e=ace.mkt.Cookie.readCookie("ajs_anonymous_id"))?decodeURIComponent(e).replace(/['"]+/g,""):null}return window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),{addActualUrl:function(e){window.location.href!==r()&&(e.url?e.actualUrl=e.url:e.actualUrl=window.location.href)},addLoadEvent:function(e){var t;"complete"===document.readyState?e():window.addEventListener?window.addEventListener("load",e,!1):window.attachEvent?window.attachEvent("onload",e):(t=window.onload,window.onload=function(){t&&t(),e()})},ENVIRONMENT:i,MARKETO_DOMAINS:["www.atlassian.com","community.atlassian.com","confluence.atlassian.com","events.atlassian.com","blog.trello.com","trello.com","getsupport.atlassian.com","wac.stg.internal.atlassian.com","community.stg.atlassian.com","confluence.stg.internal.atlassian.com","trellis.coffee","getsupport.stg.internal.atlassian"],getScript:e,getParameterByName:function(e){return e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),null===(e=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(window.location.search))?"":decodeURIComponent(e[1].replace(/\+/g," "))},getBaseUrl:function(){return window.location.origin||window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")},getEnvironment:function(){var e=ace.mkt.Helpers.getScript();if(e&&e.source){e=e.source;if(e.match("localhost:")||e.match("127.0.0.1:"))return i.LOCAL;if(e.match("/stp/qa/")||e.match("atl-global.stg"))return i.STAGE;if(e.match("/stp/current/")||e.match("atl-global.atlassian"))return i.PROD}return i.DEV},getUtms:c,getUtmsFromGups:function(e){var t,n=u(),i=localStorage.getItem("awc.session.id")||null,r=window.location.hostname,a=(()=>{try{return JSON.parse(localStorage.getItem("marketingContext"))||void 0}catch(e){console.error("Failed to parse marketingContext from localStorage:",e)}})(),e=c(e),o=JSON.stringify({sessionId:i,domain:r,lastUpdated:i,utm:{sfdcCampaignId:"",campaign:"",source:"",medium:"",content:""}});if(e)return a&&i===a.sessionId&&(s=e,t=a.utm,s["utm_sfdc-campaign_id"]===t.sfdcCampaignId)&&s.utm_campaign===t.campaign&&s.utm_source===t.source&&s.utm_medium===t.medium&&s.utm_content===t.content||ace.mkt.Gups.setMarketingContext(n,i,r,e),e;if(a){var s={"utm_sfdc-campaign_id":a.utm.sfdcCampaignId,utm_campaign:a.utm.campaign,utm_source:a.utm.source,utm_medium:a.utm.medium,utm_content:a.utm.content};if(null===a.sessionId)Object.values(s).some(e=>""!==e)?ace.mkt.Gups.setMarketingContext(n,i,r,s):ace.mkt.Gups.getMarketingContext(n,i,r,i,o);else if(r===a.domain){if(a.sessionId===i)return s;ace.mkt.Gups.getMarketingContext(n,i,r,a.lastUpdated,o)}else if(i&&Number(i)-Number(a.lastUpdated)<36e5)return localStorage.setItem("marketingContext",JSON.stringify({sessionId:i,domain:r,lastUpdated:i,utm:a.utm})),s}else ace.mkt.Gups.getMarketingContext(n,i,r,i,o);return localStorage.setItem("marketingContext",o),null},getCanonicalUrl:r,urlWithoutPath:o,urlContainsEmail:a,addCleanedUrlAndPaths:function(e){return e.url=window.location.origin+n,e.path=n,e.search="",e},addCleanedReferrer:function(e){return e.referrer=o(document.referrer)+n,e},emailAddressIsDetected:function(){return a(window.location.href)||a(document.referrer)},endsWith:function(e,t){return-1!==e.indexOf(t,e.length-t.length)},hostnameFromUrl:function(e){return e.replace(/http(s|):\/\//g,"").split(/(\/|:)/g)[0]},isObject:function(e){return null!==e&&"object"==typeof e&&!1===Array.isArray(e)},flattenObject:function(e,l){var u=(l=l||{}).delimiter||".",d=l.maxDepth,p={};return function a(o,s,c){c=c||1,Object.keys(o).forEach(function(e){var t=o[e],n=l.safe&&Array.isArray(t),i=Object.prototype.toString.call(t),r=null!==(r=t)&&null!==r.constructor&&"function"==typeof r.constructor.isBuffer&&r.constructor.isBuffer(r),e=s?s+u+e:e;if(!n&&!r&&("[object Object]"===i||"[object Array]"===i)&&Object.keys(t).length&&(!l.maxDepth||c<d))return a(t,e,c+1);p[e]=t})}(e),p},flattenDataToObject:function(t,e,n){var i={};return i[e]=ace.mkt.Helpers.flattenObject(n),i=ace.mkt.Helpers.flattenObject(i),Object.keys(i).forEach(function(e){t[e]=i[e]}),t},logEvent:function(e,t,n,i,r){ace.mkt.Helpers.makeRestRequest("POST","https://api.segment.io/v1/t",[{header:"Content-type",value:"text/plain"}],JSON.stringify({userId:t,event:n,properties:i,writeKey:e}),!1,null,r)},makeRestRequest:function(e,t,n,i,r,a,o){var s=o||new XMLHttpRequest;if(s.open(e,t),s.withCredentials=r||!1,n)for(var c=0;c<n.length;c++)s.setRequestHeader(n[c].header,n[c].value);i=i||null,s.onreadystatechange=function(){s.readyState===XMLHttpRequest.DONE&&(200<=s.status&&s.status<300?a&&a(s.responseText):a&&a("error"))},s.send(i)},queryString:l,sendWrapperLoadError:function(e,t){(n=ace.mkt.Cookie.readCookie("ajs_anonymous_id"))&&(i=decodeURIComponent(n).replace(/['"]+/g,""));var n=ace.mkt.Cookie.readCookie("__aid_user_id"),i={anonymousId:i||null,userId:decodeURIComponent(n)||null,xid:ace.mkt.Cookie.readCookie("seg_xid")||null,message:e||null,version:ace.analytics.version||null,additionalData:t||null},n=ace.mkt.Helpers.getEnvironment()===ace.mkt.Helpers.ENVIRONMENT.PROD?"https://www.atlassian.com/endpoint/atlglobalload":"https://wac.stg.internal.atlassian.com/endpoint/atlglobalload";ace.mkt.Helpers.makeRestRequest("POST",n,[{header:"Content-type",value:"application/json"},{header:"accept",value:"*/*"}],JSON.stringify(i),!1)},getWrapperScript:e,maskURL:function(e){var t,n,i,r;return""===e||void 0===e?e:(t=l((e=new URL(e)).search),n=t,i={},Object.keys(n).forEach(function(e){a(n[e])||(i[e]=n[e])}),t=i,e.origin+(r="",e.pathname.split("/").forEach(function(e){""===e||a(e)||(r=r+"/"+e)}),r)+(e=t,e=""!==(e=new URLSearchParams(e).toString("utf-8"))?"?"+e:e))},parseValue:s,getAnonymousId:u}})(),Math.trueRandom=(()=>{function c(){function e(e){e=e.toString();for(var t=0;t<e.length;t++){var n=.02519603282416938*(i+=e.charCodeAt(t));i=(n=(n-(i=n>>>0))*i)>>>0,i+=4294967296*(n-=i)}return 2.3283064365386963e-10*(i>>>0)}var i=4022871197;return e.version="Mash 0.9",e}return function(){var e=Array.prototype.slice.call(arguments),t=0,n=0,i=0,r=1;0==e.length&&(e=[+new Date]);for(var t=(s=c())(" "),n=s(" "),i=s(" "),a=0;a<e.length;a++)(t-=s(e[a]))<0&&(t+=1),(n-=s(e[a]))<0&&(n+=1),(i-=s(e[a]))<0&&(i+=1);function o(){var e=2091639*t+2.3283064365386963e-10*r;return t=n,n=i,i=e-(r=0|e)}var s=null;return o.uint32=function(){return 4294967296*o()},o.fract53=function(){return o()+11102230246251565e-32*(2097152*o()|0)},o.version="Alea 0.9",o.args=e,o}()})(),Math.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.trueRandom()|0;return("x"==e?t:3&t|8).toString(16)})},ace||{}),globalRequire=(ace.mkt=ace.mkt||{},ace.mkt.TrelloUrlScrubber=(()=>{var e={BOARD:"board",BOARD_BUTLER:"board-butler",BOARD_BUTLER_PAGE:"board-butler-page",BOARD_RECOMMEND:"board-recommend",CARD:"card",ENTERPRISE_ADMIN:"enterprise-admin",ENTERPRISE_ADMIN_TAB:"enterprise-admin-tab",ENTERPRISE_ADMIN_TAB_SUBSECTION:"enterprise-admin-tab-subsection",HOME:"home",TEMPLATES:"templates",TEMPLATES_CATEGORIES:"templates-categories",TEMPLATES_STORY:"templates-story",TEMPLATES_RECOMMEND:"templates-recommend",TEMPLATES_SUBMIT:"templates-submit",TEMPLATE:"template",USER:"user",USER_TABS:"user-tabs",USER_CARDS_WORKSPACE:"user-cards-workspace",VIEW:"view",WORKSPACE:"workspace",WORKSPACE_SECTION:"workspace-section",WORKSPACE_MEMBERS_SUBSECTION:"workspace-members-subsection",WORKSPACE_VIEWS_SUBSECTION:"workspace-views-subsection",POWER_UPS_HOME:"power-ups-home",POWER_UPS_ALL:"power-ups-all",POWER_UPS_TRELLO:"power-ups-trello",POWER_UPS_CATEGORIES:"power-ups-categories",UPGRADETEAM:"select-team-to-upgrade",SHORTCUTS:"shortcuts"},t=0,n=1,i=3,r=4,a=4,o=2,s=3,c=4,l=1,u=1,d=2,p=1,m=1,f=2,g=4,h=2,E=2,w=3,S=new Map([[e.BOARD_RECOMMEND,{id:e.BOARD_RECOMMEND,regExp:new RegExp("^/b/([^/]+)/([^/]+)/([^/]+)/recommend$"),allowlist:[t,n,a]}],[e.BOARD_BUTLER_PAGE,{id:e.BOARD_BUTLER_PAGE,regExp:new RegExp("^/b/([^/]+)/([^/]+)/butler/(rules|card-buttons|board-buttons|schedule|on-dates|connected-apps)$"),allowlist:[t,n,i,r]}],[e.BOARD_BUTLER,{id:e.BOARD_BUTLER,regExp:new RegExp("^/b/([^/]+)/([^/]+)/butler/$"),allowlist:[t,n,i]}],[e.BOARD,{id:e.BOARD,regExp:new RegExp("^/b/([^/]+)(?:/(.*?))?$"),allowlist:[t,n]}],[e.CARD,{id:e.CARD,regExp:new RegExp("^/c/"),allowlist:[t,n]}],[e.ENTERPRISE_ADMIN_TAB_SUBSECTION,{id:e.ENTERPRISE_ADMIN_TAB_SUBSECTION,regExp:new RegExp("^/e/([^/]+)/admin/(members|workspaces|boards)/(managed|boardguests|deactivated|non-enterprise|pending|public)$"),allowlist:[t,o,s,c]}],[e.ENTERPRISE_ADMIN_TAB,{id:e.ENTERPRISE_ADMIN_TAB,regExp:new RegExp("^/e/([^/]+)/admin/(members|workspaces|settings|attachment-restrictions|boards|power-ups|auditlog|account-administration|sso|api-tokens)$"),allowlist:[t,o,s]}],[e.ENTERPRISE_ADMIN,{id:e.ENTERPRISE_ADMIN,regExp:new RegExp("^/e/([^/]+)/admin$"),allowlist:[t,o]}],[e.POWER_UPS_HOME,{id:e.POWER_UPS_HOME,regExp:new RegExp("^/power-ups$"),allowlist:[t]}],[e.POWER_UPS_ALL,{id:e.POWER_UPS_ALL,regExp:new RegExp("^/power-ups/all$"),allowlist:[t,l]}],[e.POWER_UPS_TRELLO,{id:e.POWER_UPS_TRELLO,regExp:new RegExp("^/power-ups/made-by-trello$"),allowlist:[t,l]}],[e.POWER_UPS_CATEGORIES,{id:e.POWER_UPS_CATEGORIES,regExp:new RegExp("^/power-ups/category/(automation|analytics-reporting|board-utilities|communication-collaboration|developer-tools|file-management|hr-operations|it-project-management|marketing-social-media|product-design|sales-support)$"),allowlist:[t,u,d]}],[e.HOME,{id:e.HOME,regExp:new RegExp("^/$"),allowlist:[t]}],[e.UPGRADE_TEAM,{id:e.UPGRADE_TEAM,regExp:new RegExp("^/select-team-to-upgrade$"),allowlist:[t]}],[e.SHORTCUTS,{id:e.SHORTCUTS,regExp:new RegExp("^/shortcuts$"),allowlist:[t]}],[e.TEMPLATES_SUBMIT,{id:e.TEMPLATES_SUBMIT,regExp:new RegExp("^/templates/submit$"),allowlist:[t,p]}],[e.TEMPLATES_RECOMMEND,{id:e.TEMPLATES_RECOMMEND,regExp:new RegExp("^/templates/([^/]+)/([^/]+)/([^/]+)/recommend$"),allowlist:[t,m,f,g]}],[e.TEMPLATES_CATEGORIES,{id:e.TEMPLATES_CATEGORIES,regExp:new RegExp("^/templates/(business|design|education|engineering|marketing|operations-hr|personal|productivity|product-management|project-management|remote-work|sales|support|team-management)$"),allowlist:[t,m]}],[e.TEMPLATES_STORY,{id:e.TEMPLATES_STORY,regExp:new RegExp("^/templates/([^/]+)/([^/]+)$"),allowlist:[t,m,f]}],[e.TEMPLATES,{id:e.TEMPLATES,regExp:new RegExp("^/templates$"),allowlist:[t]}],[e.USER_CARDS_WORKSPACE,{id:e.USER_CARDS_WORKSPACE,regExp:new RegExp("^/u/([^/]+)/cards/([^/]+)$"),allowlist:[t,h]}],[e.USER_TABS,{id:e.USER_TABS,regExp:new RegExp("^/u/([^/]+)/(profile|activity|boards|cards|labs|tasks)$"),allowlist:[t,h]}],[e.USER,{id:e.USER,regExp:new RegExp("^/u/"),allowlist:[t]}],[e.VIEW,{id:e.VIEW,regExp:new RegExp("^/v/"),allowlist:[t,n]}],[e.WORKSPACE_SECTION,{id:e.WORKSPACE_SECTION,regExp:new RegExp("^/w/([^/]+)/(account|billing|home|export|free-trial|members|tables|getting-started|highlights|reports)$"),allowlist:[t,E]}],[e.WORKSPACE_MEMBERS_SUBSECTION,{id:e.WORKSPACE_MEMBERS_SUBSECTION,regExp:new RegExp("^/w/([^/]+)/members/(guests|requests)$"),allowlist:[t,E,w]}],[e.WORKSPACE_VIEWS_SUBSECTION,{id:e.WORKSPACE_VIEWS_SUBSECTION,regExp:new RegExp("^/w/([^/]+)/views/(table|calendar|)$"),allowlist:[t,E,w]}],[e.WORKSPACE,{id:e.WORKSPACE,regExp:new RegExp("^/w/"),allowlist:[t]}]]);return{scrubUrl:function(e,t){var n=(e=>{for(var t=Array.from(S.values()),n=0;n<t.length;++n){var i=t[n];if(e.match(i.regExp))return i}})(e),e=e.substring(1,e.length).split("/");if(n){for(var i=e,r=n.allowlist,a="",o=0;o<i.length;o++)r.includes(o)&&(a+="/"+i[o]);return a}return t}}})(),function(){var require={},requirejs,define;return function(global,setTimeout){var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.3.6",commentRegExp=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;function commentReplace(e,t){return t||""}function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e)for(var n=0;n<e.length&&(!e[n]||!t(e[n],n,e));n+=1);}function eachReverse(e,t){if(e)for(var n=e.length-1;-1<n&&(!e[n]||!t(e[n],n,e));--n);}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){for(var n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(n,e,i,r){e&&eachProp(e,function(e,t){!i&&hasProp(n,t)||(!r||"object"!=typeof e||!e||isArray(e)||isFunction(e)||e instanceof RegExp?n[t]=e:(n[t]||(n[t]={}),mixin(n[t],e,i,r)))})}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){var t;return e&&(t=global,each(e.split("."),function(e){t=t[e]}),t)}function makeError(e,t,n,i){t=new Error(t+"\nhttps://requirejs.org/docs/errors.html#"+e);return t.requireType=e,t.requireModules=i,n&&(t.originalError=n),t}if(void 0===define){if(void 0!==requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}void 0===require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,n,i){var r,a=defContextName;return isArray(e)||"string"==typeof e||(r=e,isArray(t)?(e=t,t=n,n=i):e=[]),r&&r.context&&(a=r.context),i=(i=getOwn(contexts,a))||(contexts[a]=req.s.newContext(a)),r&&i.configure(r),i.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick=void 0!==setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require=require||req,req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(t){req[t]=function(){var e=contexts[defContextName];return e.require[t].apply(e,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement)&&(head=s.head=baseElement.parentNode),req.onError=defaultOnError,req.createNode=function(e,t,n){var i=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return i.type=e.scriptType||"text/javascript",i.charset="utf-8",i.async=!0,i},req.load=function(t,n,i){var e,r=t&&t.config||{};if(isBrowser)return(e=req.createNode(r,n,i)).setAttribute("data-requirecontext",t.contextName),e.setAttribute("data-requiremodule",n),!e.attachEvent||e.attachEvent.toString&&e.attachEvent.toString().indexOf("[native code")<0||isOpera?(e.addEventListener("load",t.onScriptLoad,!1),e.addEventListener("error",t.onScriptError,!1)):(useInteractive=!0,e.attachEvent("onreadystatechange",t.onScriptLoad)),e.src=i,r.onNodeCreated&&r.onNodeCreated(e,r,n,i),currentlyAddingScript=e,baseElement?head.insertBefore(e,baseElement):head.appendChild(e),currentlyAddingScript=null,e;if(isWebWorker)try{setTimeout(function(){},0),importScripts(i),t.completeLoad(n)}catch(e){t.onError(makeError("importscripts","importScripts failed for "+n+" at "+i,e,[n]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){if(head=head||e.parentNode,dataMain=e.getAttribute("data-main"))return mainScript=dataMain,cfg.baseUrl||-1!==mainScript.indexOf("!")||(mainScript=(src=mainScript.split("/")).pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}),define=function(e,n,t){var i,r;"string"!=typeof e&&(t=n,n=e,e=null),isArray(n)||(t=n,n=null),!n&&isFunction(t)&&(n=[],t.length)&&(t.toString().replace(commentRegExp,commentReplace).replace(cjsRequireRegExp,function(e,t){n.push(t)}),n=(1===t.length?["require"]:["require","exports","module"]).concat(n)),useInteractive&&(i=currentlyAddingScript||getInteractiveScript())&&(e=e||i.getAttribute("data-requiremodule"),r=contexts[i.getAttribute("data-requirecontext")]),r?(r.defQueue.push([e,n,t]),r.defQueueMap[e]=!0):globalDefQueue.push([e,n,t])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}function newContext(c){var t,e,p,l,n,w={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},u={},d={},i={},m=[],f={},r={},g={},h=1,E=1;function S(e,t,n){var i,r,a,o,s,c,l,u,d,p=t&&t.split("/"),m=w.map,f=m&&m["*"];if(e){t=(e=e.split("/")).length-1,w.nodeIdCompat&&jsSuffixRegExp.test(e[t])&&(e[t]=e[t].replace(jsSuffixRegExp,""));for(var g,h=e="."===e[0].charAt(0)&&p?p.slice(0,p.length-1).concat(e):e,E=0;E<h.length;E++)"."===(g=h[E])?(h.splice(E,1),--E):".."!==g||0===E||1===E&&".."===h[2]||".."===h[E-1]||0<E&&(h.splice(E-1,2),E-=2);e=e.join("/")}if(n&&m&&(p||f)){e:for(a=(r=e.split("/")).length;0<a;--a){if(s=r.slice(0,a).join("/"),p)for(o=p.length;0<o;--o)if(i=(i=getOwn(m,p.slice(0,o).join("/")))&&getOwn(i,s)){c=i,l=a;break e}!u&&f&&getOwn(f,s)&&(u=getOwn(f,s),d=a)}!c&&u&&(c=u,l=d),c&&(r.splice(0,l,c),e=r.join("/"))}return getOwn(w.pkgs,e)||e}function y(t){isBrowser&&each(scripts(),function(e){if(e.getAttribute("data-requiremodule")===t&&e.getAttribute("data-requirecontext")===p.contextName)return e.parentNode.removeChild(e),!0})}function v(e){var t=getOwn(w.paths,e);return t&&isArray(t)&&1<t.length&&(t.shift(),p.require.undef(e),p.makeRequire(null,{skipMap:!0})([e]),1)}function b(e){var t,n=e?e.indexOf("!"):-1;return-1<n&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function x(e,t,n,i){var r,a,o,s=null,c=t?t.name:null,l=e,u=!0,d="";return e||(u=!1,e="_@r"+(h+=1)),s=(o=b(e))[0],e=o[1],s&&(s=S(s,c,i),a=getOwn(f,s)),e&&(s?d=n?e:a&&a.normalize?a.normalize(e,function(e){return S(e,c,i)}):-1===e.indexOf("!")?S(e,c,i):e:(s=(o=b(d=S(e,c,i)))[0],n=!0,r=p.nameToUrl(d=o[1]))),{prefix:s,name:d,parentMap:t,unnormalized:!!(e=!s||a||n?"":"_unnormalized"+(E+=1)),url:r,originalName:l,isDefine:u,id:(s?s+"!"+d:d)+e}}function k(e){var t=e.id;return getOwn(u,t)||(u[t]=new p.Module(e))}function O(e,t,n){var i=e.id,r=getOwn(u,i);!hasProp(f,i)||r&&!r.defineEmitComplete?(r=k(e)).error&&"error"===t?n(r.error):r.on(t,n):"defined"===t&&n(f[i])}function R(t,e){var n=t.requireModules,i=!1;e?e(t):(each(n,function(e){e=getOwn(u,e);e&&(e.error=t,e.events.error)&&(i=!0,e.emit("error",t))}),i||req.onError(t))}function T(){globalDefQueue.length&&(each(globalDefQueue,function(e){var t=e[0];"string"==typeof t&&(p.defQueueMap[t]=!0),m.push(e)}),globalDefQueue=[])}function C(e){delete u[e],delete d[e]}function M(){var i,e=1e3*w.waitSeconds,r=e&&p.startTime+e<(new Date).getTime(),a=[],o=[],s=!1,c=!0;if(!t){if(t=!0,eachProp(d,function(e){var t=e.map,n=t.id;if(e.enabled&&(t.isDefine||o.push(e),!e.error))if(!e.inited&&r)v(n)?s=i=!0:(a.push(n),y(n));else if(!e.inited&&e.fetched&&t.isDefine&&(s=!0,!t.prefix))return c=!1}),r&&a.length)return(e=makeError("timeout","Load timeout for modules: "+a,null,a)).contextName=p.contextName,R(e);c&&each(o,function(e){!function i(r,a,o){var e=r.map.id;r.error?r.emit("error",r.error):(a[e]=!0,each(r.depMaps,function(e,t){var e=e.id,n=getOwn(u,e);!n||r.depMatched[t]||o[e]||(getOwn(a,e)?(r.defineDep(t,f[e]),r.check()):i(n,a,o))}),o[e]=!0)}(e,{},{})}),r&&!i||!s||(isBrowser||isWebWorker)&&(n=n||setTimeout(function(){n=0,M()},50)),t=!1}}function o(e){hasProp(f,e[0])||k(x(e[0],null,!0)).init(e[1],e[2])}function a(e,t,n,i){e.detachEvent&&!isOpera?i&&e.detachEvent(i,t):e.removeEventListener(n,t,!1)}function s(e){e=e.currentTarget||e.srcElement;return a(e,p.onScriptLoad,"load","onreadystatechange"),a(e,p.onScriptError,"error"),{node:e,id:e&&e.getAttribute("data-requiremodule")}}function A(){var e;for(T();m.length;){if(null===(e=m.shift())[0])return R(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));o(e)}p.defQueueMap={}}return l={require:function(e){return e.require||(e.require=p.makeRequire(e.map))},exports:function(e){if(e.usingExports=!0,e.map.isDefine)return e.exports?f[e.map.id]=e.exports:e.exports=f[e.map.id]={}},module:function(e){return e.module||(e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(w.config,e.map.id)||{}},exports:e.exports||(e.exports={})})}},(e=function(e){this.events=getOwn(i,e.id)||{},this.map=e,this.shim=getOwn(w.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0}).prototype={init:function(e,t,n,i){i=i||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=i.ignore,i.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,--this.depCount,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,p.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();p.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()}))}},load:function(){var e=this.map.url;r[e]||(r[e]=!0,p.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var t,n,e=this.map.id,i=this.depExports,r=this.exports,a=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(a)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{r=p.execCb(e,a,i,r)}catch(e){t=e}else r=p.execCb(e,a,i,r);if(this.map.isDefine&&void 0===r&&((i=this.module)?r=i.exports:this.usingExports&&(r=this.exports)),t)return t.requireMap=this.map,t.requireModules=this.map.isDefine?[this.map.id]:null,t.requireType=this.map.isDefine?"define":"require",R(this.error=t)}else r=a;this.exports=r,this.map.isDefine&&!this.ignore&&(f[e]=r,req.onResourceLoad)&&(n=[],each(this.depMaps,function(e){n.push(e.normalizedMap||e)}),req.onResourceLoad(p,this.map,n)),C(e),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else hasProp(p.defQueueMap,e)||this.fetch()}},callPlugin:function(){var s=this.map,c=s.id,e=x(s.prefix);this.depMaps.push(e),O(e,"defined",bind(this,function(e){var a,t,n=getOwn(g,this.map.id),i=this.map.name,r=this.map.parentMap?this.map.parentMap.name:null,o=p.makeRequire(s.parentMap,{enableBuildCallback:!0});this.map.unnormalized?(e.normalize&&(i=e.normalize(i,function(e){return S(e,r,!0)})||""),O(t=x(s.prefix+"!"+i,this.map.parentMap,!0),"defined",bind(this,function(e){this.map.normalizedMap=t,this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),(i=getOwn(u,t.id))&&(this.depMaps.push(t),this.events.error&&i.on("error",bind(this,function(e){this.emit("error",e)})),i.enable())):n?(this.map.url=p.nameToUrl(n),this.load()):((a=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})})).error=bind(this,function(e){this.inited=!0,(this.error=e).requireModules=[c],eachProp(u,function(e){0===e.map.id.indexOf(c+"_unnormalized")&&C(e.map.id)}),R(e)}),a.fromText=bind(this,function(e,t){var n=s.name,i=x(n),r=useInteractive;t&&(e=t),r&&(useInteractive=!1),k(i),hasProp(w.config,c)&&(w.config[n]=w.config[c]);try{req.exec(e)}catch(e){return R(makeError("fromtexteval","fromText eval for "+c+" failed: "+e,e,[c]))}r&&(useInteractive=!0),this.depMaps.push(i),p.completeLoad(n),o([n],a)}),e.load(s.name,o,a,w))})),p.enable(e,this),this.pluginMaps[e.id]=e},enable:function(){(d[this.map.id]=this).enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,i;if("string"==typeof e){if(e=x(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,i=getOwn(l,e.id))return void(this.depExports[t]=i(this));this.depCount+=1,O(e,"defined",bind(this,function(e){this.undefed||(this.defineDep(t,e),this.check())})),this.errback?O(e,"error",bind(this,this.errback)):this.events.error&&O(e,"error",bind(this,function(e){this.emit("error",e)}))}i=e.id,n=u[i],hasProp(l,i)||!n||n.enabled||p.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(u,e.id);t&&!t.enabled&&p.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){(this.events[e]||(this.events[e]=[])).push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},(p={config:w,contextName:c,registry:u,defined:f,urlFetched:r,defQueue:m,defQueueMap:{},Module:e,makeModuleMap:x,nextTick:req.nextTick,onError:R,configure:function(e){e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/"),"string"==typeof e.urlArgs&&(n=e.urlArgs,e.urlArgs=function(e,t){return(-1===t.indexOf("?")?"?":"&")+n});var n,i=w.shim,r={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){r[t]?(w[t]||(w[t]={}),mixin(w[t],e,!0,!0)):w[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(g[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,t){!(e=isArray(e)?{deps:e}:e).exports&&!e.init||e.exportsFn||(e.exportsFn=p.makeShimExports(e)),i[t]=e}),w.shim=i),e.packages&&each(e.packages,function(e){var t=(e="string"==typeof e?{name:e}:e).name;e.location&&(w.paths[t]=e.location),w.pkgs[t]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(u,function(e,t){e.inited||e.map.unnormalized||(e.map=x(t,null,!0))}),(e.deps||e.callback)&&p.require(e.deps||[],e.callback)},makeShimExports:function(t){return function(){var e;return(e=t.init?t.init.apply(global,arguments):e)||t.exports&&getGlobal(t.exports)}},makeRequire:function(a,o){function s(e,t,n){var i,r;return o.enableBuildCallback&&t&&isFunction(t)&&(t.__requireJsBuild=!0),"string"==typeof e?isFunction(t)?R(makeError("requireargs","Invalid require call"),n):a&&hasProp(l,e)?l[e](u[a.id]):req.get?req.get(p,e,a,s):(i=x(e,a,!1,!0).id,hasProp(f,i)?f[i]:R(makeError("notloaded",'Module name "'+i+'" has not been loaded yet for context: '+c+(a?"":". Use require([])")))):(A(),p.nextTick(function(){A(),(r=k(x(null,a))).skipMap=o.skipMap,r.init(e,t,n,{enabled:!0}),M()}),s)}return o=o||{},mixin(s,{isBrowser:isBrowser,toUrl:function(e){var t,n=e.lastIndexOf("."),i=e.split("/")[0];return-1!==n&&(!("."===i||".."===i)||1<n)&&(t=e.substring(n,e.length),e=e.substring(0,n)),p.nameToUrl(S(e,a&&a.id,!0),t,!0)},defined:function(e){return hasProp(f,x(e,a,!1,!0).id)},specified:function(e){return e=x(e,a,!1,!0).id,hasProp(f,e)||hasProp(u,e)}}),a||(s.undef=function(n){T();var e=x(n,a,!0),t=getOwn(u,n);t.undefed=!0,y(n),delete f[n],delete r[e.url],delete i[n],eachReverse(m,function(e,t){e[0]===n&&m.splice(t,1)}),delete p.defQueueMap[n],t&&(t.events.defined&&(i[n]=t.events),C(n))}),s},enable:function(e){getOwn(u,e.id)&&k(e).enable()},completeLoad:function(e){var t,n,i,r=getOwn(w.shim,e)||{},a=r.exports;for(T();m.length;){if(null===(n=m.shift())[0]){if(n[0]=e,t)break;t=!0}else n[0]===e&&(t=!0);o(n)}if(p.defQueueMap={},i=getOwn(u,e),!t&&!hasProp(f,e)&&i&&!i.inited){if(!(!w.enforceDefine||a&&getGlobal(a)))return v(e)?void 0:R(makeError("nodefine","No define call for "+e,null,[e]));o([e,r.deps||[],r.exportsFn])}M()},nameToUrl:function(e,t,n){var i,r,a,o,s,c=getOwn(w.pkgs,e);if(c=getOwn(g,e=c?c:e))return p.nameToUrl(c,t,n);if(req.jsExtRegExp.test(e))o=e+(t||"");else{for(i=w.paths,a=(r=e.split("/")).length;0<a;--a)if(s=getOwn(i,r.slice(0,a).join("/"))){isArray(s)&&(s=s[0]),r.splice(0,a,s);break}o=r.join("/"),o=("/"===(o+=t||(/^data\:|^blob\:|\?/.test(o)||n?"":".js")).charAt(0)||o.match(/^[\w\+\.\-]+:/)?"":w.baseUrl)+o}return w.urlArgs&&!/^blob\:/.test(o)?o+w.urlArgs(e,o):o},load:function(e,t){req.load(p,e,t)},execCb:function(e,t,n,i){return t.apply(i,n)},onScriptLoad:function(e){"load"!==e.type&&!readyRegExp.test((e.currentTarget||e.srcElement).readyState)||(interactiveScript=null,e=s(e),p.completeLoad(e.id))},onScriptError:function(e){var n,i=s(e);if(!v(i.id))return n=[],eachProp(u,function(e,t){0!==t.indexOf("_@r")&&each(e.depMaps,function(e){if(e.id===i.id)return n.push(t),!0})}),R(makeError("scripterror",'Script error for "'+i.id+(n.length?'", needed by: '+n.join(", "):'"'),e,[i.id]))}}).require=p.makeRequire(),p}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState||eachReverse(scripts(),function(e){if("interactive"===e.readyState)return interactiveScript=e}),interactiveScript}}(this,"undefined"==typeof setTimeout?void 0:setTimeout),{require:require,define:define,config:require.config}}()),ace=ace||{},ace=(ace.analytics=ace.analytics||{},ace.analytics.Cohort=(()=>{var n="atlCohort",r="2",a=["index","bucketedAtUTC","version","bucketId"],o={bucketAll:{bucketId:0}};function t(){var e,t=ace.mkt.Cookie.readCookie(n);try{return e=JSON.parse(t),ace.mkt.Helpers.isObject(e)?e:null}catch(e){return ace.mkt.Helpers.sendWrapperLoadError("Error reading ALT_COHORT Cookie"),null}}function s(i){return Object.keys(o).filter(function(e){return t=e,n=i,!(ace.mkt.Helpers.isObject(n)&&void 0!==n[t]&&ace.mkt.Helpers.isObject(n[t])&&a.every(function(e){return void 0!==n[t][e]}));var t,n})}return{ATL_COHORT:n,COHORT_VERSION:r,readWriteAtlCohort:function(e){var i=!e&&t()||{};return(e=s(i)).length&&(e.forEach(function(e){var t,n;i[e]=(t=o[e=e],e=ace.mkt.Helpers.getAnonymousId(),(n={bucketedAtUTC:(new Date).toISOString(),version:r}).index=e?ace.mkt.Guid.guidHashCode(ace.mkt.Guid.addNumberToGUID(e,t.bucketId))%100:Math.ceil(100*Math.random()),Object.keys(t).forEach(function(e){n[e]=t[e]}),n)}),e=i,ace.mkt.Helpers.isObject(e)&&ace.mkt.Cookie.writeCookie(n,JSON.stringify(e),3650,!0),i=t()),i},readAtlCohort:t}})(),ace||{}),ace=(ace.analytics=ace.analytics||{},ace.analytics.Loader={loadVersion:function(e,t,n,i){var r=document.createElement("script"),a=ace.mkt.Helpers.getScript(),o=(r.onload=function(){t&&"function"==typeof t&&t()},r.onerror=function(){n&&"function"==typeof n&&n(e)},a.source+e+"/atl-global-"+e+a.extension);ace.analytics.Loader.checkForFile(o,function(){r.src=o,document.head.appendChild(r),ace.analytics.version=e},function(){r.src=a.source+ace.analytics.version+"/atl-global-"+ace.analytics.version+a.extension,document.head.appendChild(r)},i)},checkForFile:function(e,t,n,i){var r=i||new XMLHttpRequest;r.open("HEAD",e),r.setRequestHeader("Content-type","text/plain"),r.send(),r.onreadystatechange=function(){r.readyState===XMLHttpRequest.DONE&&(200<=r.status&&r.status<300?t:n)()}}},ace||{}),ace=(ace.analytics=ace.analytics||{},ace.analytics.MethodQueue=(()=>{function a(e){var t=e.module,n=e.method;window.ace.analytics[t]&&window.ace.analytics[t][n]&&window.ace.analytics[t][n].apply(window.ace.analytics[t],e.args)}return{getWrapperMethods:function(){for(var e=[["Gtm","initialize",!0],["Gtm","page",!1],["Gtm","track",!1],["Identity","autoIdentify",!1],["Identity","identify",!1],["Initializer","globalCallReady",!0],["Initializer","initWithPageAnalytics",!0],["Initializer","initAnalytics",!0],["Initializer","init",!0],["Initializer","autoTrack",!0],["Initializer","gaIntegration",!0],["Initializer","initGAS",!0],["Initializer","initSnowplow",!0],["Initializer","setXID",!0,!0],["Optimizely","getCampaigns",!1],["Optimizely","getDemandbase",!1],["Optimizely","getExperimentAndVariationPairs",!1],["Optimizely","getVisitorId",!1],["Optimizely","isDemandbaseAvailable",!1],["Optimizely","isInitialized",!1],["SegmentIO","getAnonymousId",!1],["SegmentIO","getXID",!1],["SegmentIO","initSegment",!0],["SegmentIO","isInitialized",!1],["SegmentIO","isSegmentUserAvailable",!1],["SegmentIO","segmentDoReady",!0],["SegmentIO","ready",!0],["SegmentIO","stubSegmentMethods",!0],["SegmentIO","trackEvent",!1],["SegmentIO","trackPage",!1],["SegmentIO","wrapSegment",!1],["Snowplow","loadSnowplow",!0],["Snowplow","trackPageView",!1],["Snowplow","trackSelfDescribingEvent",!1],["Snowplow","getSnowplowDuid",!1],["Tracking","autoTrackButtons",!1],["Tracking","autoTrackLinks",!1],["Tracking","autoTrackVideos",!1],["Tracking","enrichEventData",!1],["Tracking","enrichEventDataPromise",!1],["Tracking","logError",!1],["Tracking","pageView",!1],["Tracking","trackEvent",!1],["Tracking","trackUnloadEvent",!1],["Tracking","readWriteSessionCookie",!1]],t=new Map,n=0;n<e.length;n++){var i=e[n][0],r=t.get(i);(r=r||[]).push({name:e[n][1],initMethod:e[n][2],critical:e[n][3]}),t.set(i,r)}return t},replayMethodQueue:function e(t,n,i){t&&!n&&e(t,!0,i);for(var r=window.ace.analytics.methodQueue.length-1;0<=r;r--)t&&!window.ace.analytics.methodQueue[r].initMethod||n&&!window.ace.analytics.methodQueue[r].critical||((i||a)(window.ace.analytics.methodQueue[r]),window.ace.analytics.methodQueue.splice(r,1))},stubWrapperMethods:function(e,s){var t=window.ace.analytics.MethodQueue.getWrapperMethods(),c=(window.ace.analytics.methodQueue=[],e||function(t,n,i,r){return function(){var e=Array.prototype.slice.call(arguments);return window.ace.analytics.methodQueue.unshift({module:t,method:n,args:e,initMethod:i,critical:r}),window.ace.analytics.methodQueue}});t.forEach(function(e,t){for(var n=0;n<e.length;n++){var i=e[n].name,r=e[n].initMethod,a=e[n].critical,o=s||window.ace.analytics;o[t]=o[t]||{},i&&(o[t][i]=c(t,i,r,a))}})},stubSegmentMethods:function(){var n=window.analytics=window.analytics||[];n.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"],n.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);return e.unshift(t),n.push(e),n}};for(var e=0;e<n.methods.length;e++){var t=n.methods[e];n[t]=n.factory(t)}}}})(),ace||{}),ace=(ace.analytics=ace.analytics||{},ace.analytics.Statsig=(()=>{var s,c,o,l,u,d="atl-global-static_web",p="anonymousId";function m(){u=new Map([[ace.mkt.Helpers.ENVIRONMENT.LOCAL,"5d242eee-fa3f-4a79-9bcf-980f23ed7aa0"],[ace.mkt.Helpers.ENVIRONMENT.DEV,"5d242eee-fa3f-4a79-9bcf-980f23ed7aa0"],[ace.mkt.Helpers.ENVIRONMENT.STAGE,"092739cf-8c04-4608-8b67-30efe33decba"],[ace.mkt.Helpers.ENVIRONMENT.PROD,"c7ac4c6f-e821-4658-aff0-038dc810c04a"]])}return{initFeatureGateClient:function(e,t,n){var i,r,a,o;s||n?(i=ace.analytics.Cohort.readWriteAtlCohort(),r=ace.mkt.Helpers.getEnvironment(),m(),a=n||s,o=new Map([[ace.mkt.Helpers.ENVIRONMENT.LOCAL,a.FeatureGateEnvironment.Development],[ace.mkt.Helpers.ENVIRONMENT.DEV,a.FeatureGateEnvironment.Development],[ace.mkt.Helpers.ENVIRONMENT.STAGE,a.FeatureGateEnvironment.Staging],[ace.mkt.Helpers.ENVIRONMENT.PROD,a.FeatureGateEnvironment.Production]]),n||(c=new a.default.client.constructor),(n||c).initialize({apiKey:u.get(r),environment:o.get(r),targetApp:d,useGatewayUrl:!0},{analyticsAnonymousId:ace.mkt.Helpers.getAnonymousId()||p},{atlCohort:i?i.bucketAll.index:1,browserUrl:window.location?window.location.href:""}).then(function(){e()}).catch(function(e){console.error("Failed to initialize FeatureGateClient:",e)})):t&&"function"==typeof t&&t()},loadFeatureGateClient:function(t,n){var e=ace.mkt.Helpers.getScript();e&&e.source?(globalRequire.config({baseUrl:e.source}),globalRequire.require([ace.analytics.version+"/feature-gate/featureGateClient.min"],function(e){s=e,t&&"function"==typeof t&&t()},function(e){console.error("Failed to load the FeatureGateClient module:",e),n&&"function"==typeof n&&n(e)})):n&&"function"==typeof n&&n()},initWebConfigClient:function(t,e,n){var i,r,a;o||n?(i=ace.analytics.Cohort.readWriteAtlCohort(),r=ace.mkt.Helpers.getEnvironment(),m(),n=n||o,a=new Map([[ace.mkt.Helpers.ENVIRONMENT.LOCAL,"https://api.dev.atlassian.com/flags"],[ace.mkt.Helpers.ENVIRONMENT.DEV,"https://api.dev.atlassian.com/flags"],[ace.mkt.Helpers.ENVIRONMENT.STAGE,"https://api.stg.atlassian.com/flags"],[ace.mkt.Helpers.ENVIRONMENT.PROD,"https://api.atlassian.com/flags"]]),n.ConfigClient.fetch({ffsBaseUrl:a.get(r),ffsApiKey:u.get(r),context:{namespace:d,identifiers:{analyticsAnonymousId:ace.mkt.Helpers.getAnonymousId()||p},metadata:{atlCohort:i?i.bucketAll.index:1,browserUrl:window.location?window.location.href:""}}}).then(function(e){l=e,t()}).catch(function(e){console.error("Failed to initialize WebConfigClient:",e)})):e&&"function"==typeof e&&e()},loadWebConfigClient:function(t,n){var e=ace.mkt.Helpers.getScript();e&&e.source?(globalRequire.config({baseUrl:e.source}),globalRequire.require([ace.analytics.version+"/web-config/webConfigClient.min"],function(e){o=e,t&&"function"==typeof t&&t()},function(e){console.error("Failed to load WebConfigClient module:",e),n&&"function"==typeof n&&n(e)})):n&&"function"==typeof n&&n()},checkFeatureFlag:function(e,t){return!(!c&&!t)&&(t||c).checkGate(e)},getStringValue:function(e,t){return l||t?(t||l).getString(e).value:""},getStringListValue:function(e,t){return l||t?(t||l).getStringList(e).value:[]}}})(),ace||{});function getAtlGlobalVersion(t){ace.analytics.Statsig.loadFeatureGateClient(function(){ace.analytics.Statsig.initFeatureGateClient(function(){console.log("FeatureGateClient initialized successfully."),t(ace.analytics.Statsig.getStringValue("atl-global-phased-roll-out"))},function(e){console.log("error initializing FeatureGateClient",e),t(ace.analytics.version)})},function(e){console.log("error loading FeatureGateClient",e),t(ace.analytics.version)})}function loadAtlGlobal(){ace.analytics.MethodQueue.stubWrapperMethods(),ace.analytics.MethodQueue.stubSegmentMethods(),ace.analytics.Metrics.logMetric(ace.analytics.Metrics.METRICS_KEYS.TIME_TO_AVAILABLE),ace.analytics.Metrics.logMetric(ace.analytics.Metrics.METRICS_KEYS.TIME_TO_START_LOAD_XID),globalRequire.require([ace.analytics.version+"/xid/atl-xid"],function(e){e&&e.XID&&(e=new e.XID(ace.mkt.Helpers.getEnvironment()),ace.analytics.Metrics.logMetric(ace.analytics.Metrics.METRICS_KEYS.TIME_TO_START_GET_XID),e.getXidPromise().then(function(e){ace.analytics.Initializer.setXID(e),ace.analytics.Metrics.logMetric(ace.analytics.Metrics.METRICS_KEYS.TIME_TO_LOAD_XID)}))}),ace.analytics.Statsig.loadWebConfigClient(function(){ace.analytics.Statsig.initWebConfigClient(function(){console.log("WebConfigClient initialized successfully.")},function(e){console.log("error initializing WebConfigClient",e)})},function(e){console.log("error loading WebConfigClient",e)}),getAtlGlobalVersion(function(e){window.metricsReady=function(){ace.analytics.Metrics.logMetric(ace.analytics.Metrics.METRICS_KEYS.TIME_TO_READY),ace.analytics.Metrics.sendMetrics()},ace.analytics.Loader.loadVersion(e,function(){var e="gasv3";ace.analytics.Tracking.destinationFlag=e,ace.analytics.Tracking.switchOrder=!1,ace.analytics.GASv3&&(ace.analytics.GASv3.loadGASFlag=!0),ace.analytics.Snowplow&&(ace.analytics.Snowplow.loadSnowplowFlag=!1),ace.analytics.SegmentIO.loadSegmentFlag=!1,ace.analytics.Metrics.logMetric(ace.analytics.Metrics.METRICS_KEYS.TIME_TO_LOAD),ace.analytics.MethodQueue.replayMethodQueue(!0),ace.analytics.MethodQueue.replayMethodQueue(!1)},loadError)})}function loadError(e){ace.mkt.Helpers.sendWrapperLoadError("Wrapper load error")}ace.analytics=ace.analytics||{},ace.analytics.version="2.263.0",loadAtlGlobal();
//# sourceMappingURL=atl-global.min.js.map